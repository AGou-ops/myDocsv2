<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Tomcatä¸­é—´ä»¶æ–¹æ–¹é¢é¢å‚¨å¤‡çŸ¥è¯† | AGou&#39;s Docs-v2</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="https://infinitypro-img.infinitynewtab.com/custom-icon/8001de1jd3n68lbfnxxt564xvb0vl5.png?imageMogr2/thumbnail/240x/format/webp/blur/1x0/quality/100|imageslim">
    <script language="javascript" type="text/javascript" src="https://cdn.staticfile.org/jquery/1.7.2/jquery.min.js"></script>
    <script language="javascript" type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-2DZCW6NJZF"></script>
    <script language="javascript" type="text/javascript" content="function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag(&quot;js&quot;,new Date),gtag(&quot;config&quot;,&quot;G-2DZCW6NJZF&quot;);"></script>
    <meta name="description" content="å²‚èƒ½å°½å¦‚äººæ„ï¼Œä½†æ±‚æ— æ„§æˆ‘å¿ƒã€‚">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/myDocsv2/assets/css/0.styles.21bb8301.css" as="style"><link rel="preload" href="/myDocsv2/assets/js/app.792c833e.js" as="script"><link rel="preload" href="/myDocsv2/assets/js/5.dd197eb6.js" as="script"><link rel="preload" href="/myDocsv2/assets/js/1.3bd7010a.js" as="script"><link rel="preload" href="/myDocsv2/assets/js/2.0c757b52.js" as="script"><link rel="preload" href="/myDocsv2/assets/js/298.9d16d98c.js" as="script"><link rel="preload" href="/myDocsv2/assets/js/17.ce9a229a.js" as="script"><link rel="prefetch" href="/myDocsv2/assets/js/10.560f0585.js"><link rel="prefetch" href="/myDocsv2/assets/js/100.d260e792.js"><link rel="prefetch" href="/myDocsv2/assets/js/101.59a52c3b.js"><link rel="prefetch" href="/myDocsv2/assets/js/102.c83fe080.js"><link rel="prefetch" href="/myDocsv2/assets/js/103.486f1569.js"><link rel="prefetch" href="/myDocsv2/assets/js/104.147ef422.js"><link rel="prefetch" href="/myDocsv2/assets/js/105.7cdddb7f.js"><link rel="prefetch" href="/myDocsv2/assets/js/106.6bb6504a.js"><link rel="prefetch" href="/myDocsv2/assets/js/107.958c4a2e.js"><link rel="prefetch" href="/myDocsv2/assets/js/108.89dea5fa.js"><link rel="prefetch" href="/myDocsv2/assets/js/109.25e918a2.js"><link rel="prefetch" href="/myDocsv2/assets/js/11.30085370.js"><link rel="prefetch" href="/myDocsv2/assets/js/110.5b72de31.js"><link rel="prefetch" href="/myDocsv2/assets/js/111.950db23b.js"><link rel="prefetch" href="/myDocsv2/assets/js/112.dea68ec6.js"><link rel="prefetch" href="/myDocsv2/assets/js/113.4cd2fdf5.js"><link rel="prefetch" href="/myDocsv2/assets/js/114.8fb68b8d.js"><link rel="prefetch" href="/myDocsv2/assets/js/115.853e9eac.js"><link rel="prefetch" href="/myDocsv2/assets/js/116.370ed12f.js"><link rel="prefetch" href="/myDocsv2/assets/js/117.e54ab1d2.js"><link rel="prefetch" href="/myDocsv2/assets/js/118.f875192d.js"><link rel="prefetch" href="/myDocsv2/assets/js/119.130ba6df.js"><link rel="prefetch" href="/myDocsv2/assets/js/12.bad43817.js"><link rel="prefetch" href="/myDocsv2/assets/js/120.ea722a75.js"><link rel="prefetch" href="/myDocsv2/assets/js/121.e6b1a38f.js"><link rel="prefetch" href="/myDocsv2/assets/js/122.cfa9c92b.js"><link rel="prefetch" href="/myDocsv2/assets/js/123.bd0e517c.js"><link rel="prefetch" href="/myDocsv2/assets/js/124.516b8976.js"><link rel="prefetch" href="/myDocsv2/assets/js/125.aa9491a0.js"><link rel="prefetch" href="/myDocsv2/assets/js/126.249ad6f3.js"><link rel="prefetch" href="/myDocsv2/assets/js/127.15e07998.js"><link rel="prefetch" href="/myDocsv2/assets/js/128.6e4e1f1d.js"><link rel="prefetch" href="/myDocsv2/assets/js/129.9fa7ef9d.js"><link rel="prefetch" href="/myDocsv2/assets/js/13.4f93795a.js"><link rel="prefetch" href="/myDocsv2/assets/js/130.7ed7958f.js"><link rel="prefetch" href="/myDocsv2/assets/js/131.6a4ed50f.js"><link rel="prefetch" href="/myDocsv2/assets/js/132.60d2ac03.js"><link rel="prefetch" href="/myDocsv2/assets/js/133.657186df.js"><link rel="prefetch" href="/myDocsv2/assets/js/134.de4a0998.js"><link rel="prefetch" href="/myDocsv2/assets/js/135.773bff70.js"><link rel="prefetch" href="/myDocsv2/assets/js/136.03b7adc5.js"><link rel="prefetch" href="/myDocsv2/assets/js/137.e59abdb8.js"><link rel="prefetch" href="/myDocsv2/assets/js/138.b00ee386.js"><link rel="prefetch" href="/myDocsv2/assets/js/139.11d16ca5.js"><link rel="prefetch" href="/myDocsv2/assets/js/14.5b43ffdb.js"><link rel="prefetch" href="/myDocsv2/assets/js/140.d2461af0.js"><link rel="prefetch" href="/myDocsv2/assets/js/141.51a02429.js"><link rel="prefetch" href="/myDocsv2/assets/js/142.de00d6b2.js"><link rel="prefetch" href="/myDocsv2/assets/js/143.2e00599f.js"><link rel="prefetch" href="/myDocsv2/assets/js/144.d91b742b.js"><link rel="prefetch" href="/myDocsv2/assets/js/145.fd4eeb59.js"><link rel="prefetch" href="/myDocsv2/assets/js/146.2da768b9.js"><link rel="prefetch" href="/myDocsv2/assets/js/147.2392d1bd.js"><link rel="prefetch" href="/myDocsv2/assets/js/148.3f9f1e85.js"><link rel="prefetch" href="/myDocsv2/assets/js/149.ccc77b35.js"><link rel="prefetch" href="/myDocsv2/assets/js/15.567b35e8.js"><link rel="prefetch" href="/myDocsv2/assets/js/150.bc27fad5.js"><link rel="prefetch" href="/myDocsv2/assets/js/151.8d88bccd.js"><link rel="prefetch" href="/myDocsv2/assets/js/152.2f8b753c.js"><link rel="prefetch" href="/myDocsv2/assets/js/153.3e99f777.js"><link rel="prefetch" href="/myDocsv2/assets/js/154.28a03309.js"><link rel="prefetch" href="/myDocsv2/assets/js/155.d31e6da9.js"><link rel="prefetch" href="/myDocsv2/assets/js/156.dbbb018d.js"><link rel="prefetch" href="/myDocsv2/assets/js/157.dacf2c34.js"><link rel="prefetch" href="/myDocsv2/assets/js/158.92d5a5c7.js"><link rel="prefetch" href="/myDocsv2/assets/js/159.163e1ce5.js"><link rel="prefetch" href="/myDocsv2/assets/js/16.246dc068.js"><link rel="prefetch" href="/myDocsv2/assets/js/160.f6373d44.js"><link rel="prefetch" href="/myDocsv2/assets/js/161.1ee05cbb.js"><link rel="prefetch" href="/myDocsv2/assets/js/162.90d44205.js"><link rel="prefetch" href="/myDocsv2/assets/js/163.0ab9f4cc.js"><link rel="prefetch" href="/myDocsv2/assets/js/164.e7b76b81.js"><link rel="prefetch" href="/myDocsv2/assets/js/165.f4e96a57.js"><link rel="prefetch" href="/myDocsv2/assets/js/166.9da04171.js"><link rel="prefetch" href="/myDocsv2/assets/js/167.7869b189.js"><link rel="prefetch" href="/myDocsv2/assets/js/168.fd171306.js"><link rel="prefetch" href="/myDocsv2/assets/js/169.a3accba0.js"><link rel="prefetch" href="/myDocsv2/assets/js/170.69b8ea3d.js"><link rel="prefetch" href="/myDocsv2/assets/js/171.8519d41a.js"><link rel="prefetch" href="/myDocsv2/assets/js/172.853e162a.js"><link rel="prefetch" href="/myDocsv2/assets/js/173.61f68a82.js"><link rel="prefetch" href="/myDocsv2/assets/js/174.4a6c4ebe.js"><link rel="prefetch" href="/myDocsv2/assets/js/175.4da076f8.js"><link rel="prefetch" href="/myDocsv2/assets/js/176.db59955f.js"><link rel="prefetch" href="/myDocsv2/assets/js/177.8e8a7c16.js"><link rel="prefetch" href="/myDocsv2/assets/js/178.c253fb27.js"><link rel="prefetch" href="/myDocsv2/assets/js/179.5662c8f8.js"><link rel="prefetch" href="/myDocsv2/assets/js/18.42c2a799.js"><link rel="prefetch" href="/myDocsv2/assets/js/180.54165af7.js"><link rel="prefetch" href="/myDocsv2/assets/js/181.e07c952b.js"><link rel="prefetch" href="/myDocsv2/assets/js/182.53626bff.js"><link rel="prefetch" href="/myDocsv2/assets/js/183.b92c4e7a.js"><link rel="prefetch" href="/myDocsv2/assets/js/184.640e2011.js"><link rel="prefetch" href="/myDocsv2/assets/js/185.82c83e0f.js"><link rel="prefetch" href="/myDocsv2/assets/js/186.0e7a9c8a.js"><link rel="prefetch" href="/myDocsv2/assets/js/187.b1279218.js"><link rel="prefetch" href="/myDocsv2/assets/js/188.919e8202.js"><link rel="prefetch" href="/myDocsv2/assets/js/189.12ca6319.js"><link rel="prefetch" href="/myDocsv2/assets/js/19.80fbdf4d.js"><link rel="prefetch" href="/myDocsv2/assets/js/190.0cabf0ec.js"><link rel="prefetch" href="/myDocsv2/assets/js/191.4473c05d.js"><link rel="prefetch" href="/myDocsv2/assets/js/192.cfd1676f.js"><link rel="prefetch" href="/myDocsv2/assets/js/193.be924226.js"><link rel="prefetch" href="/myDocsv2/assets/js/194.28405918.js"><link rel="prefetch" href="/myDocsv2/assets/js/195.895d8931.js"><link rel="prefetch" href="/myDocsv2/assets/js/196.a5074835.js"><link rel="prefetch" href="/myDocsv2/assets/js/197.5ac7add8.js"><link rel="prefetch" href="/myDocsv2/assets/js/198.1243e120.js"><link rel="prefetch" href="/myDocsv2/assets/js/199.1dedd774.js"><link rel="prefetch" href="/myDocsv2/assets/js/20.03b1f0ff.js"><link rel="prefetch" href="/myDocsv2/assets/js/200.47677147.js"><link rel="prefetch" href="/myDocsv2/assets/js/201.ae7c32ad.js"><link rel="prefetch" href="/myDocsv2/assets/js/202.b9ab3aba.js"><link rel="prefetch" href="/myDocsv2/assets/js/203.5716a175.js"><link rel="prefetch" href="/myDocsv2/assets/js/204.0dff0870.js"><link rel="prefetch" href="/myDocsv2/assets/js/205.5722c8b0.js"><link rel="prefetch" href="/myDocsv2/assets/js/206.94ecd56d.js"><link rel="prefetch" href="/myDocsv2/assets/js/207.fbef39ad.js"><link rel="prefetch" href="/myDocsv2/assets/js/208.f033c96a.js"><link rel="prefetch" href="/myDocsv2/assets/js/209.b022ee5b.js"><link rel="prefetch" href="/myDocsv2/assets/js/21.2048f6fd.js"><link rel="prefetch" href="/myDocsv2/assets/js/210.c8278e5f.js"><link rel="prefetch" href="/myDocsv2/assets/js/211.df648ec4.js"><link rel="prefetch" href="/myDocsv2/assets/js/212.c591597e.js"><link rel="prefetch" href="/myDocsv2/assets/js/213.59dd0072.js"><link rel="prefetch" href="/myDocsv2/assets/js/214.4250b8d5.js"><link rel="prefetch" href="/myDocsv2/assets/js/215.06bf9012.js"><link rel="prefetch" href="/myDocsv2/assets/js/216.f9f569dc.js"><link rel="prefetch" href="/myDocsv2/assets/js/217.0d90efa0.js"><link rel="prefetch" href="/myDocsv2/assets/js/218.941f9041.js"><link rel="prefetch" href="/myDocsv2/assets/js/219.087abc3e.js"><link rel="prefetch" href="/myDocsv2/assets/js/22.1468e026.js"><link rel="prefetch" href="/myDocsv2/assets/js/220.4519068e.js"><link rel="prefetch" href="/myDocsv2/assets/js/221.020f293f.js"><link rel="prefetch" href="/myDocsv2/assets/js/222.0eabad26.js"><link rel="prefetch" href="/myDocsv2/assets/js/223.ad574537.js"><link rel="prefetch" href="/myDocsv2/assets/js/224.ae6d0b7a.js"><link rel="prefetch" href="/myDocsv2/assets/js/225.8a723b88.js"><link rel="prefetch" href="/myDocsv2/assets/js/226.7285c5f4.js"><link rel="prefetch" href="/myDocsv2/assets/js/227.a14fc969.js"><link rel="prefetch" href="/myDocsv2/assets/js/228.66daebef.js"><link rel="prefetch" href="/myDocsv2/assets/js/229.6403de74.js"><link rel="prefetch" href="/myDocsv2/assets/js/23.e667901e.js"><link rel="prefetch" href="/myDocsv2/assets/js/230.03323ece.js"><link rel="prefetch" href="/myDocsv2/assets/js/231.f3295fcb.js"><link rel="prefetch" href="/myDocsv2/assets/js/232.9c83055f.js"><link rel="prefetch" href="/myDocsv2/assets/js/233.169da2a3.js"><link rel="prefetch" href="/myDocsv2/assets/js/234.2c098527.js"><link rel="prefetch" href="/myDocsv2/assets/js/235.62700dfa.js"><link rel="prefetch" href="/myDocsv2/assets/js/236.f682323d.js"><link rel="prefetch" href="/myDocsv2/assets/js/237.60773b74.js"><link rel="prefetch" href="/myDocsv2/assets/js/238.fb376db3.js"><link rel="prefetch" href="/myDocsv2/assets/js/239.21fe9787.js"><link rel="prefetch" href="/myDocsv2/assets/js/24.18db0e43.js"><link rel="prefetch" href="/myDocsv2/assets/js/240.412b1fd5.js"><link rel="prefetch" href="/myDocsv2/assets/js/241.eb5e205b.js"><link rel="prefetch" href="/myDocsv2/assets/js/242.1b505ffe.js"><link rel="prefetch" href="/myDocsv2/assets/js/243.07e81cfd.js"><link rel="prefetch" href="/myDocsv2/assets/js/244.82c529d0.js"><link rel="prefetch" href="/myDocsv2/assets/js/245.c3458778.js"><link rel="prefetch" href="/myDocsv2/assets/js/246.66e98887.js"><link rel="prefetch" href="/myDocsv2/assets/js/247.1a0993dd.js"><link rel="prefetch" href="/myDocsv2/assets/js/248.a63069b1.js"><link rel="prefetch" href="/myDocsv2/assets/js/249.dd372d75.js"><link rel="prefetch" href="/myDocsv2/assets/js/25.285160e4.js"><link rel="prefetch" href="/myDocsv2/assets/js/250.eb634570.js"><link rel="prefetch" href="/myDocsv2/assets/js/251.f04a5705.js"><link rel="prefetch" href="/myDocsv2/assets/js/252.6ad19080.js"><link rel="prefetch" href="/myDocsv2/assets/js/253.dd154571.js"><link rel="prefetch" href="/myDocsv2/assets/js/254.230b3e5e.js"><link rel="prefetch" href="/myDocsv2/assets/js/255.d40d9e7e.js"><link rel="prefetch" href="/myDocsv2/assets/js/256.28281885.js"><link rel="prefetch" href="/myDocsv2/assets/js/257.6298bda8.js"><link rel="prefetch" href="/myDocsv2/assets/js/258.2fefa56c.js"><link rel="prefetch" href="/myDocsv2/assets/js/259.cb5aea63.js"><link rel="prefetch" href="/myDocsv2/assets/js/26.fae61a7f.js"><link rel="prefetch" href="/myDocsv2/assets/js/260.b29da0f4.js"><link rel="prefetch" href="/myDocsv2/assets/js/261.3db0aa59.js"><link rel="prefetch" href="/myDocsv2/assets/js/262.0b3015b0.js"><link rel="prefetch" href="/myDocsv2/assets/js/263.7577edc3.js"><link rel="prefetch" href="/myDocsv2/assets/js/264.5ff38add.js"><link rel="prefetch" href="/myDocsv2/assets/js/265.e339901e.js"><link rel="prefetch" href="/myDocsv2/assets/js/266.a2027a85.js"><link rel="prefetch" href="/myDocsv2/assets/js/267.08188cb1.js"><link rel="prefetch" href="/myDocsv2/assets/js/268.d30558f8.js"><link rel="prefetch" href="/myDocsv2/assets/js/269.aa62020a.js"><link rel="prefetch" href="/myDocsv2/assets/js/27.b1a4cdea.js"><link rel="prefetch" href="/myDocsv2/assets/js/270.56fe4e52.js"><link rel="prefetch" href="/myDocsv2/assets/js/271.4dbe5ca9.js"><link rel="prefetch" href="/myDocsv2/assets/js/272.ebb4279a.js"><link rel="prefetch" href="/myDocsv2/assets/js/273.82120a56.js"><link rel="prefetch" href="/myDocsv2/assets/js/274.409c4f82.js"><link rel="prefetch" href="/myDocsv2/assets/js/275.b1030128.js"><link rel="prefetch" href="/myDocsv2/assets/js/276.e35f1ba0.js"><link rel="prefetch" href="/myDocsv2/assets/js/277.78b42eab.js"><link rel="prefetch" href="/myDocsv2/assets/js/278.1d224e38.js"><link rel="prefetch" href="/myDocsv2/assets/js/279.5c7dd3ae.js"><link rel="prefetch" href="/myDocsv2/assets/js/28.e9c369f8.js"><link rel="prefetch" href="/myDocsv2/assets/js/280.07aa017e.js"><link rel="prefetch" href="/myDocsv2/assets/js/281.dcb43aec.js"><link rel="prefetch" href="/myDocsv2/assets/js/282.22bc522a.js"><link rel="prefetch" href="/myDocsv2/assets/js/283.c8474c90.js"><link rel="prefetch" href="/myDocsv2/assets/js/284.581fa5ab.js"><link rel="prefetch" href="/myDocsv2/assets/js/285.208c4406.js"><link rel="prefetch" href="/myDocsv2/assets/js/286.5e6c6df0.js"><link rel="prefetch" href="/myDocsv2/assets/js/287.acef2acc.js"><link rel="prefetch" href="/myDocsv2/assets/js/288.ae3f5d32.js"><link rel="prefetch" href="/myDocsv2/assets/js/289.039c32e1.js"><link rel="prefetch" href="/myDocsv2/assets/js/29.a3644474.js"><link rel="prefetch" href="/myDocsv2/assets/js/290.80dfce69.js"><link rel="prefetch" href="/myDocsv2/assets/js/291.9396076f.js"><link rel="prefetch" href="/myDocsv2/assets/js/292.aafda658.js"><link rel="prefetch" href="/myDocsv2/assets/js/293.9d432ff9.js"><link rel="prefetch" href="/myDocsv2/assets/js/294.9bd1328b.js"><link rel="prefetch" href="/myDocsv2/assets/js/295.272f5c7a.js"><link rel="prefetch" href="/myDocsv2/assets/js/296.0cc8fe44.js"><link rel="prefetch" href="/myDocsv2/assets/js/297.67a972ae.js"><link rel="prefetch" href="/myDocsv2/assets/js/299.0f04c0eb.js"><link rel="prefetch" href="/myDocsv2/assets/js/30.b5a32504.js"><link rel="prefetch" href="/myDocsv2/assets/js/300.d4e215e6.js"><link rel="prefetch" href="/myDocsv2/assets/js/301.60d51efc.js"><link rel="prefetch" href="/myDocsv2/assets/js/302.abb371d9.js"><link rel="prefetch" href="/myDocsv2/assets/js/303.b22b36ac.js"><link rel="prefetch" href="/myDocsv2/assets/js/304.3261e7b2.js"><link rel="prefetch" href="/myDocsv2/assets/js/305.807e25af.js"><link rel="prefetch" href="/myDocsv2/assets/js/306.fe10f19e.js"><link rel="prefetch" href="/myDocsv2/assets/js/307.9f74b43c.js"><link rel="prefetch" href="/myDocsv2/assets/js/308.b8c9f8e6.js"><link rel="prefetch" href="/myDocsv2/assets/js/309.1e5c14f9.js"><link rel="prefetch" href="/myDocsv2/assets/js/31.12707513.js"><link rel="prefetch" href="/myDocsv2/assets/js/310.911f38ce.js"><link rel="prefetch" href="/myDocsv2/assets/js/311.3940d290.js"><link rel="prefetch" href="/myDocsv2/assets/js/312.af9de452.js"><link rel="prefetch" href="/myDocsv2/assets/js/313.e10357a1.js"><link rel="prefetch" href="/myDocsv2/assets/js/314.8d732c56.js"><link rel="prefetch" href="/myDocsv2/assets/js/315.97345578.js"><link rel="prefetch" href="/myDocsv2/assets/js/316.5de46f5d.js"><link rel="prefetch" href="/myDocsv2/assets/js/317.ecbaee88.js"><link rel="prefetch" href="/myDocsv2/assets/js/318.f16657b3.js"><link rel="prefetch" href="/myDocsv2/assets/js/319.e9fc2b8b.js"><link rel="prefetch" href="/myDocsv2/assets/js/32.4794eb28.js"><link rel="prefetch" href="/myDocsv2/assets/js/320.87a080c9.js"><link rel="prefetch" href="/myDocsv2/assets/js/321.dc421947.js"><link rel="prefetch" href="/myDocsv2/assets/js/322.0d8f158f.js"><link rel="prefetch" href="/myDocsv2/assets/js/323.9feb5296.js"><link rel="prefetch" href="/myDocsv2/assets/js/324.11b428d5.js"><link rel="prefetch" href="/myDocsv2/assets/js/325.51e26ebb.js"><link rel="prefetch" href="/myDocsv2/assets/js/326.d7c9128a.js"><link rel="prefetch" href="/myDocsv2/assets/js/327.d2a1a3da.js"><link rel="prefetch" href="/myDocsv2/assets/js/328.f3119b29.js"><link rel="prefetch" href="/myDocsv2/assets/js/329.01ae2bb1.js"><link rel="prefetch" href="/myDocsv2/assets/js/33.7e8c531c.js"><link rel="prefetch" href="/myDocsv2/assets/js/330.757b5be7.js"><link rel="prefetch" href="/myDocsv2/assets/js/331.335622c4.js"><link rel="prefetch" href="/myDocsv2/assets/js/332.79b5dfeb.js"><link rel="prefetch" href="/myDocsv2/assets/js/333.b5bff6cd.js"><link rel="prefetch" href="/myDocsv2/assets/js/334.b4e9badb.js"><link rel="prefetch" href="/myDocsv2/assets/js/335.aed5ff57.js"><link rel="prefetch" href="/myDocsv2/assets/js/336.14ce19b1.js"><link rel="prefetch" href="/myDocsv2/assets/js/337.f0e871b6.js"><link rel="prefetch" href="/myDocsv2/assets/js/338.ba74f399.js"><link rel="prefetch" href="/myDocsv2/assets/js/339.e308e875.js"><link rel="prefetch" href="/myDocsv2/assets/js/34.76ac76e5.js"><link rel="prefetch" href="/myDocsv2/assets/js/340.8afe9761.js"><link rel="prefetch" href="/myDocsv2/assets/js/341.5f7f2739.js"><link rel="prefetch" href="/myDocsv2/assets/js/342.856b7535.js"><link rel="prefetch" href="/myDocsv2/assets/js/343.b71213f5.js"><link rel="prefetch" href="/myDocsv2/assets/js/344.4e9b4c16.js"><link rel="prefetch" href="/myDocsv2/assets/js/345.fde23f4c.js"><link rel="prefetch" href="/myDocsv2/assets/js/346.20b96938.js"><link rel="prefetch" href="/myDocsv2/assets/js/347.476680bb.js"><link rel="prefetch" href="/myDocsv2/assets/js/348.ecf44b79.js"><link rel="prefetch" href="/myDocsv2/assets/js/349.19235284.js"><link rel="prefetch" href="/myDocsv2/assets/js/35.b761363a.js"><link rel="prefetch" href="/myDocsv2/assets/js/350.42e4d37c.js"><link rel="prefetch" href="/myDocsv2/assets/js/351.6982f677.js"><link rel="prefetch" href="/myDocsv2/assets/js/352.f17e6bce.js"><link rel="prefetch" href="/myDocsv2/assets/js/353.2be51bc7.js"><link rel="prefetch" href="/myDocsv2/assets/js/354.77f5d2fb.js"><link rel="prefetch" href="/myDocsv2/assets/js/355.f6285383.js"><link rel="prefetch" href="/myDocsv2/assets/js/356.94418b9f.js"><link rel="prefetch" href="/myDocsv2/assets/js/357.b8b20e21.js"><link rel="prefetch" href="/myDocsv2/assets/js/358.1b2e896c.js"><link rel="prefetch" href="/myDocsv2/assets/js/36.34a14d0e.js"><link rel="prefetch" href="/myDocsv2/assets/js/37.aa4916db.js"><link rel="prefetch" href="/myDocsv2/assets/js/38.deb490d2.js"><link rel="prefetch" href="/myDocsv2/assets/js/39.8672f15d.js"><link rel="prefetch" href="/myDocsv2/assets/js/40.644dee16.js"><link rel="prefetch" href="/myDocsv2/assets/js/41.1b06014c.js"><link rel="prefetch" href="/myDocsv2/assets/js/42.e7ff72f1.js"><link rel="prefetch" href="/myDocsv2/assets/js/43.02a62ac3.js"><link rel="prefetch" href="/myDocsv2/assets/js/44.cd8672e0.js"><link rel="prefetch" href="/myDocsv2/assets/js/45.02596789.js"><link rel="prefetch" href="/myDocsv2/assets/js/46.a1c40368.js"><link rel="prefetch" href="/myDocsv2/assets/js/47.8d8b2f4d.js"><link rel="prefetch" href="/myDocsv2/assets/js/48.5dadf9f0.js"><link rel="prefetch" href="/myDocsv2/assets/js/49.ea5bbb89.js"><link rel="prefetch" href="/myDocsv2/assets/js/50.ad180d98.js"><link rel="prefetch" href="/myDocsv2/assets/js/51.0df9f4e8.js"><link rel="prefetch" href="/myDocsv2/assets/js/52.f04a6e1b.js"><link rel="prefetch" href="/myDocsv2/assets/js/53.74f2f2cf.js"><link rel="prefetch" href="/myDocsv2/assets/js/54.e8578653.js"><link rel="prefetch" href="/myDocsv2/assets/js/55.79a1b789.js"><link rel="prefetch" href="/myDocsv2/assets/js/56.693e099d.js"><link rel="prefetch" href="/myDocsv2/assets/js/57.82c7c63a.js"><link rel="prefetch" href="/myDocsv2/assets/js/58.15dea23c.js"><link rel="prefetch" href="/myDocsv2/assets/js/59.63d66b63.js"><link rel="prefetch" href="/myDocsv2/assets/js/6.97e7a4cb.js"><link rel="prefetch" href="/myDocsv2/assets/js/60.80a3efc6.js"><link rel="prefetch" href="/myDocsv2/assets/js/61.3f648458.js"><link rel="prefetch" href="/myDocsv2/assets/js/62.991be8f4.js"><link rel="prefetch" href="/myDocsv2/assets/js/63.c70d0dfb.js"><link rel="prefetch" href="/myDocsv2/assets/js/64.cbfa33ab.js"><link rel="prefetch" href="/myDocsv2/assets/js/65.f89bbfb7.js"><link rel="prefetch" href="/myDocsv2/assets/js/66.70c68ea1.js"><link rel="prefetch" href="/myDocsv2/assets/js/67.27436099.js"><link rel="prefetch" href="/myDocsv2/assets/js/68.6c730d30.js"><link rel="prefetch" href="/myDocsv2/assets/js/69.31e87a96.js"><link rel="prefetch" href="/myDocsv2/assets/js/7.b469f62b.js"><link rel="prefetch" href="/myDocsv2/assets/js/70.66a0fe4e.js"><link rel="prefetch" href="/myDocsv2/assets/js/71.150be7fc.js"><link rel="prefetch" href="/myDocsv2/assets/js/72.a2b6c89a.js"><link rel="prefetch" href="/myDocsv2/assets/js/73.65559007.js"><link rel="prefetch" href="/myDocsv2/assets/js/74.f61e2991.js"><link rel="prefetch" href="/myDocsv2/assets/js/75.fde71997.js"><link rel="prefetch" href="/myDocsv2/assets/js/76.cf3d3a31.js"><link rel="prefetch" href="/myDocsv2/assets/js/77.36633bd8.js"><link rel="prefetch" href="/myDocsv2/assets/js/78.82d49b8f.js"><link rel="prefetch" href="/myDocsv2/assets/js/79.6c213d15.js"><link rel="prefetch" href="/myDocsv2/assets/js/8.ebe4b359.js"><link rel="prefetch" href="/myDocsv2/assets/js/80.e6ee5654.js"><link rel="prefetch" href="/myDocsv2/assets/js/81.2d6febe8.js"><link rel="prefetch" href="/myDocsv2/assets/js/82.b1d7c015.js"><link rel="prefetch" href="/myDocsv2/assets/js/83.e4d15d98.js"><link rel="prefetch" href="/myDocsv2/assets/js/84.98d75c07.js"><link rel="prefetch" href="/myDocsv2/assets/js/85.8bd12af2.js"><link rel="prefetch" href="/myDocsv2/assets/js/86.3bc59854.js"><link rel="prefetch" href="/myDocsv2/assets/js/87.c26415ef.js"><link rel="prefetch" href="/myDocsv2/assets/js/88.12cc1dae.js"><link rel="prefetch" href="/myDocsv2/assets/js/89.1e08c26e.js"><link rel="prefetch" href="/myDocsv2/assets/js/9.bd9ef1a2.js"><link rel="prefetch" href="/myDocsv2/assets/js/90.4d879007.js"><link rel="prefetch" href="/myDocsv2/assets/js/91.089c1c17.js"><link rel="prefetch" href="/myDocsv2/assets/js/92.5aec83b9.js"><link rel="prefetch" href="/myDocsv2/assets/js/93.efe44a21.js"><link rel="prefetch" href="/myDocsv2/assets/js/94.ffc75f13.js"><link rel="prefetch" href="/myDocsv2/assets/js/95.d2012256.js"><link rel="prefetch" href="/myDocsv2/assets/js/96.87fef0cb.js"><link rel="prefetch" href="/myDocsv2/assets/js/97.aae1fc0b.js"><link rel="prefetch" href="/myDocsv2/assets/js/98.5f33b8aa.js"><link rel="prefetch" href="/myDocsv2/assets/js/99.f3fbb5db.js"><link rel="prefetch" href="/myDocsv2/assets/js/vendors~flowchart.f05697d3.js">
    <link rel="stylesheet" href="/myDocsv2/assets/css/0.styles.21bb8301.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container" data-v-584a622c><div data-v-584a622c><div id="loader-wrapper" class="loading-wrapper" data-v-1c4f0192 data-v-584a622c data-v-584a622c><div class="loader-main" data-v-1c4f0192><div data-v-1c4f0192></div><div data-v-1c4f0192></div><div data-v-1c4f0192></div><div data-v-1c4f0192></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-73c95a87 data-v-584a622c data-v-584a622c><h3 class="title" style="display:none;" data-v-73c95a87 data-v-73c95a87>AGou's Docs-v2</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-73c95a87 data-v-73c95a87><input type="password" value="" data-v-73c95a87> <span data-v-73c95a87>Konck! Knock!</span> <button data-v-73c95a87>OK</button></label> <div class="footer" style="display:none;" data-v-73c95a87 data-v-73c95a87><span data-v-73c95a87><i class="iconfont reco-theme" data-v-73c95a87></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-73c95a87>vuePress-theme-reco</a></span> <span data-v-73c95a87><i class="iconfont reco-copyright" data-v-73c95a87></i> <a data-v-73c95a87><span data-v-73c95a87>AGou-ops</span>
          Â Â 
          <!---->
          2022
        </a></span></div></div> <div class="hide" data-v-584a622c><header class="navbar" data-v-584a622c><div title="å¯¼èˆª" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/myDocsv2/" class="home-link router-link-active"><img src="/myDocsv2/favicon.png" alt="AGou's Docs-v2" class="logo"> <span class="site-name">AGou's Docs-v2</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/myDocsv2/timeline/" class="nav-link"><i class="iconfont undefined"></i>
  ğŸ•Ÿæ—¶é—´çº¿
</a></div><div class="nav-item"><a href="/myDocsv2/" class="nav-link"><i class="iconfont undefined"></i>
  ğŸ Home
</a></div><div class="nav-item"><a href="/myDocsv2/guide/" class="nav-link"><i class="iconfont undefined"></i>
  ğŸ—ºï¸Guide
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      ğŸ“„å…¶å®ƒ
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myDocsv2/Golang/" class="nav-link"><i class="iconfont undefined"></i>
  ğŸ“šGolang
</a></li><li class="dropdown-item"><!----> <a href="/myDocsv2/k8s/" class="nav-link"><i class="iconfont undefined"></i>
  ğŸš¢K8s
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      ç‰ˆæœ¬
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://agou-ops.cn/myDocs" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  ver 1.0
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://agou-ops.cn/myDocsv2" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  ver 2.0
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://agou-ops.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  âœ¨myBlog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/AGou-ops/myDocsv2" target="_blank" rel="noopener noreferrer" class="repo-link"><i class="iconfont reco-github"></i>
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask" data-v-584a622c></div> <aside class="sidebar" data-v-584a622c><div class="personal-info-wrapper" data-v-7e653f02><img src="/myDocsv2/favicon.png" alt="author-avatar" class="personal-img" data-v-7e653f02> <h3 class="name" data-v-7e653f02>
    AGou-ops
  </h3> <div class="num" data-v-7e653f02><div data-v-7e653f02><h3 data-v-7e653f02>2</h3> <h6 data-v-7e653f02>æ–‡ç« </h6></div> <div data-v-7e653f02><h3 data-v-7e653f02>1</h3> <h6 data-v-7e653f02>æ ‡ç­¾</h6></div></div> <hr data-v-7e653f02></div> <nav class="nav-links"><div class="nav-item"><a href="/myDocsv2/timeline/" class="nav-link"><i class="iconfont undefined"></i>
  ğŸ•Ÿæ—¶é—´çº¿
</a></div><div class="nav-item"><a href="/myDocsv2/" class="nav-link"><i class="iconfont undefined"></i>
  ğŸ Home
</a></div><div class="nav-item"><a href="/myDocsv2/guide/" class="nav-link"><i class="iconfont undefined"></i>
  ğŸ—ºï¸Guide
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      ğŸ“„å…¶å®ƒ
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myDocsv2/Golang/" class="nav-link"><i class="iconfont undefined"></i>
  ğŸ“šGolang
</a></li><li class="dropdown-item"><!----> <a href="/myDocsv2/k8s/" class="nav-link"><i class="iconfont undefined"></i>
  ğŸš¢K8s
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      ç‰ˆæœ¬
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://agou-ops.cn/myDocs" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  ver 1.0
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://agou-ops.cn/myDocsv2" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  ver 2.0
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://agou-ops.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  âœ¨myBlog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/AGou-ops/myDocsv2" target="_blank" rel="noopener noreferrer" class="repo-link"><i class="iconfont reco-github"></i>
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/Ansible/" class="sidebar-heading clickable open"><span>Ansible</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/myDocsv2/post/Ansible/Ansible Ad-hoc Basic.html" class="sidebar-link">Ansible Ad-hoc Basic</a></li><li><a href="/myDocsv2/post/Ansible/Ansible Basic.html" class="sidebar-link">Ansible Basic</a></li><li><a href="/myDocsv2/post/Ansible/Ansible Best Practices.html" class="sidebar-link">Ansible Best Practices</a></li><li><a href="/myDocsv2/post/Ansible/Ansible inventory.html" class="sidebar-link">Ansible inventory</a></li><li><a href="/myDocsv2/post/Ansible/Ansible modules.html" class="sidebar-link">Ansible modules</a></li><li><a href="/myDocsv2/post/Ansible/Ansible Playbook Basic.html" class="sidebar-link">Ansible Playbook Basic</a></li><li><a href="/myDocsv2/post/Ansible/Ansible Tower.html" class="sidebar-link">Ansible Tower</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/CI&amp;CD/" class="sidebar-heading clickable"><span>CI&amp;CD</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/Cloud Comptering/" class="sidebar-heading clickable"><span>Cloud Comptering</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/DataBases/" class="sidebar-heading clickable"><span>DataBases</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/DHCP &amp; PXE &amp; Cobbler/" class="sidebar-heading clickable"><span>DHCP &amp; PXE &amp; Cobbler</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/Docker &amp; Kubernetes &amp; Micro Services/" class="sidebar-heading clickable"><span>Docker &amp; Kubernetes &amp; Micro Services</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/Dubbo/" class="sidebar-heading clickable"><span>Dubbo</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/ELK/" class="sidebar-heading clickable"><span>ELK stack</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/FileSystem/" class="sidebar-heading clickable"><span>FileSystem</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/Kafka/" class="sidebar-heading clickable"><span>Kafka</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/KVM/" class="sidebar-heading clickable"><span>KVM</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/Lua/" class="sidebar-heading clickable"><span>Lua</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/Maven/" class="sidebar-heading clickable"><span>Maven</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/Nexus/" class="sidebar-heading clickable"><span>Nexus</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/Nuster/" class="sidebar-heading clickable"><span>Nuster</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/Prometheus &amp; Consul/" class="sidebar-heading clickable"><span>Prometheus &amp; Consul</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/RabbitMQ/" class="sidebar-heading clickable"><span>RabbitMQ</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/Shell/" class="sidebar-heading clickable"><span>Shell</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/SpringBoot/" class="sidebar-heading clickable"><span>SpringBoot</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/Terraform/" class="sidebar-heading clickable"><span>Terraform</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/Varnish/" class="sidebar-heading clickable"><span>Varnish</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/Web Servers/" class="sidebar-heading clickable"><span>Web Servers</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/Zabbix/" class="sidebar-heading clickable"><span>Zabbix</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/Zookeeper/" class="sidebar-heading clickable"><span>Zookeeper</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myDocsv2/post/å·¥ä½œé¢è¯•é¢˜/" class="sidebar-heading clickable"><span>å·¥ä½œé¢è¯•é¢˜</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Others</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myDocsv2/post/CertBot Nginx SSL.html" class="sidebar-link">CertBot Nginx SSL</a></li><li><a href="/myDocsv2/post/dnsmasq.html" class="sidebar-link">dnsmasq</a></li><li><a href="/myDocsv2/post/inotifywait æ–‡ä»¶ç›‘æ§.html" class="sidebar-link">inotifywait æ–‡ä»¶ç›‘æ§</a></li><li><a href="/myDocsv2/post/JumpServer.html" class="sidebar-link">JumpServer</a></li><li><a href="/myDocsv2/post/k3s &amp; k3d Basic.html" class="sidebar-link">k3s &amp; k3d Basic</a></li><li><a href="/myDocsv2/post/keepalived.html" class="sidebar-link">keepalived</a></li><li><a href="/myDocsv2/post/lsyncd.html" class="sidebar-link">lsyncd</a></li><li><a href="/myDocsv2/post/lvm è®²è§£.html" class="sidebar-link">lvm è®²è§£</a></li><li><a href="/myDocsv2/post/OpenVPN for CentOS.html" class="sidebar-link">OpenVPN for CentOS</a></li><li><a href="/myDocsv2/post/PowerDNS.html" class="sidebar-link">PowerDNS</a></li><li><a href="/myDocsv2/post/rsync + inotify(sersync).html" class="sidebar-link">rsync + inotify(sersync)</a></li><li><a href="/myDocsv2/post/Split &amp; Logrotate.html" class="sidebar-link">Split &amp; Logrotate</a></li><li><a href="/myDocsv2/post/SQL review.html" class="sidebar-link">SQL review</a></li><li><a href="/myDocsv2/post/SSH Tunnel.html" class="sidebar-link">SSH Tunnel</a></li><li><a href="/myDocsv2/post/Useful Command.html" class="sidebar-link">Useful Command</a></li><li><a href="/myDocsv2/post/Vagrant.html" class="sidebar-link">Vagrant</a></li><li><a href="/myDocsv2/post/vim tricks.html" class="sidebar-link">vim tricks</a></li><li><a href="/myDocsv2/post/WireGuard VPN for Ubuntu.html" class="sidebar-link">WireGuard VPN for Ubuntu</a></li><li><a href="/myDocsv2/post/WireShark Filter.html" class="sidebar-link">WireShark Filter</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-73c95a87 data-v-584a622c><h3 class="title" style="display:none;" data-v-73c95a87 data-v-73c95a87></h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-73c95a87 data-v-73c95a87><input type="password" value="" data-v-73c95a87> <span data-v-73c95a87>Konck! Knock!</span> <button data-v-73c95a87>OK</button></label> <div class="footer" style="display:none;" data-v-73c95a87 data-v-73c95a87><span data-v-73c95a87><i class="iconfont reco-theme" data-v-73c95a87></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-73c95a87>vuePress-theme-reco</a></span> <span data-v-73c95a87><i class="iconfont reco-copyright" data-v-73c95a87></i> <a data-v-73c95a87><span data-v-73c95a87>AGou-ops</span>
          Â Â 
          <!---->
          2022
        </a></span></div></div> <div data-v-584a622c><main class="page"><!----> <div class="page-title" style="display:none;"><h1>Tomcatä¸­é—´ä»¶æ–¹æ–¹é¢é¢å‚¨å¤‡çŸ¥è¯†</h1> <hr> <div data-v-7b2e794a><i class="iconfont reco-account" data-v-7b2e794a><span data-v-7b2e794a>AGou-ops</span></i> <!----> <i class="iconfont reco-eye" data-v-7b2e794a><span id="/myDocsv2/post/Web%20Servers/Jvm%20&amp;%20Tomcat/Tomcat%E4%B8%AD%E9%97%B4%E4%BB%B6%E6%96%B9%E6%96%B9%E9%9D%A2%E9%9D%A2%E5%82%A8%E5%A4%87%E7%9F%A5%E8%AF%86.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-7b2e794a><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <!----></div></div> <div class="theme-reco-content content__default" style="display:none;"><h1 id="tomcatä¸­é—´ä»¶æ–¹æ–¹é¢é¢å‚¨å¤‡çŸ¥è¯†"><a href="#tomcatä¸­é—´ä»¶æ–¹æ–¹é¢é¢å‚¨å¤‡çŸ¥è¯†" class="header-anchor">#</a> Tomcatä¸­é—´ä»¶æ–¹æ–¹é¢é¢å‚¨å¤‡çŸ¥è¯†</h1> <blockquote><p>è¯¥æ–‡ç« æ¥æºï¼š</p> <p>ä»…åšä¸ªäººå¤‡ä»½å­¦ä¹ ä½¿ç”¨ã€‚</p></blockquote> <h1 id="lnmt"><a href="#lnmt" class="header-anchor">#</a> LNMT</h1> <h2 id="_1-javaç®€ä»‹"><a href="#_1-javaç®€ä»‹" class="header-anchor">#</a> 1.JAVAç®€ä»‹</h2> <p>å¸¸è§çš„å¤§å‹å¹³å°æœ‰LNMPã€LNMPã€LNMT</p> <p>JAVAï¼šLNMTï¼ˆTè¡¨ç¤ºTomcatå®¹å™¨ï¼Œæ”¾javaä»£ç çš„ï¼‰</p> <p>Tomcat</p> <p>resin</p> <p><a href="https://so.csdn.net/so/search?q=weblogic&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">weblogic<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼ˆé…åˆoracleæ•°æ®åº“è¿›è¡Œä½¿ç”¨ï¼‰</p> <table><thead><tr><th>ç¯å¢ƒ</th> <th>å¤„ç†æ¨¡å‹</th> <th>å¤„ç†ç”¨æˆ·è¯·æ±‚åŒºåˆ«</th></tr></thead> <tbody><tr><td>lnmp</td> <td>epollï¼ˆå¼‚æ­¥ï¼‰ç¼“å­˜</td> <td>é€šè¿‡fastcgiäº¤ç»™php-fpmè¿›è¡Œå¤„ç†</td></tr> <tr><td>lamp</td> <td>selectï¼ˆåŒæ­¥ï¼‰é‡åˆ°ä¸€ä¸ªå¤„ç†ä¸€ä¸ª</td> <td>lampé€šè¿‡Apacheæ¨¡å—ä¸phpè¿›è¡Œæ²Ÿé€š</td></tr> <tr><td></td> <td></td> <td></td></tr></tbody></table> <p>å¼‚æ­¥ç±»ä¼¼äºæœ‰ä¸€å¼ è¡¨ï¼Œæ ¹æ®å¯¹åº”çš„ä¿¡æ¯æ‰¾å¯¹åº”çš„é¡µé¢</p> <p>åŒæ­¥ç±»ä¼¼äºåœ¨ä¸€ä¸ªç›®å½•ä¸­ï¼Œåœ¨æ¯ä¸€ä¸ªæ–‡ä»¶ä¸­æ‰¾æƒ³è¦çš„ä¿¡æ¯
<img src="https://agou-images.oss-cn-qingdao.aliyuncs.com/others/20200502220826692.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <h2 id="_2-tomcatå¿…å¤‡çŸ¥è¯†"><a href="#_2-tomcatå¿…å¤‡çŸ¥è¯†" class="header-anchor">#</a> 2.Tomcatå¿…å¤‡çŸ¥è¯†</h2> <ul><li>tomcatéƒ¨ç½²</li> <li>ç›®å½•ç»“æ„</li> <li>é…ç½®tomcatç®¡ç†åŠŸèƒ½</li> <li>éƒ¨ç½²jpress</li> <li>tomcatå¤šå®ä¾‹</li> <li>tomcatç›‘æ§</li> <li>tomcatå®‰å…¨ä¼˜åŒ–</li> <li>Tomcatï¼šapache-tomcat</li> <li>ä¸Tomcatæœ‰å…³çš„</li> <li>jvmï¼šjava virtual machine javaè™šæ‹Ÿæœº
<ul><li>è§£å†³äº†ä»£ç çš„å¯ç§»æ¤æ€§ï¼Œ1ä»½ä»£ç å¤„å¤„ä½¿ç”¨</li> <li>å ç”¨å†…å­˜</li></ul></li> <li>jdk java development kit javaå¼€å‘ç¯å¢ƒ
<ul><li>javaå‘½ä»¤</li> <li>jvmç¯å¢ƒ</li></ul></li> <li>jdkç‰ˆæœ¬
<ul><li>oracle jdk å®˜ç½‘ä¸‹è½½</li> <li>openjdk Linuxè‡ªå¸¦ï¼Œå¼€æº</li></ul></li></ul> <h2 id="_3-tomcatç¯å¢ƒæ­å»º"><a href="#_3-tomcatç¯å¢ƒæ­å»º" class="header-anchor">#</a> 3.Tomcatç¯å¢ƒæ­å»º</h2> <p>æœåŠ¡å™¨ 192.168.81.210 ens33</p> <h3 id="_3-1-jdk"><a href="#_3-1-jdk" class="header-anchor">#</a> 3.1.jdk</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment">#è¿™é‡Œçš„eofä½¿ç”¨å•å¼•å·å¼•èµ·æ¥æ˜¯ä¸ºäº†è®©ç‰¹æ®Šç¬¦å·ä¹Ÿå†™å…¥æ–‡ä»¶</span>
<span class="token comment">#PATH å­˜æ”¾å‘½ä»¤çš„è·¯å¾„ï¼Œå¦‚æœä¸å°å¿ƒæ”¹é”™äº†/etc/profileæ–‡ä»¶é‚£ä¹ˆå‘½ä»¤å°±ä¸èƒ½ä½¿ç”¨äº†ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤çš„ç»å¯¹è·¯å¾„æ¥ä¿®æ”¹/bin/vim /etc/profileæ”¹å®Œåexité‡æ–°è¿ä¸€ä¸‹å°±è¡Œ</span>
<span class="token comment">#å®‰è£…jdkä¹‹å‰å…ˆæŠŠä¹‹å‰rpmè£…çš„åˆ æ‰</span>

<span class="token function">cat</span> <span class="token operator">&gt;&gt;</span>/etc/profile <span class="token operator">&lt;&lt;</span><span class="token string">'EOF'
export JAVA_HOME=/application/jdk
export PATH=$JAVA_HOME/bin:$JAVA_HOME/jre/bin:$PATH
export CLASSPATH=.:$JAVA_HOME/lib:$JAVA_HOME/jre/lib:$JAVA_HOME/lib/tools.jar
EOF</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir /application</span>
<span class="token punctuation">[</span>root@localhost application<span class="token punctuation">]</span><span class="token comment"># rz -E</span>
rz waiting to receive.
<span class="token punctuation">[</span>root@localhost application<span class="token punctuation">]</span><span class="token comment"># ln -s jdk1.8.0_60/ jdk</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_3-2-tomcat"><a href="#_3-2-tomcat" class="header-anchor">#</a> 3.2.Tomcat</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost application<span class="token punctuation">]</span><span class="token comment"># tar xf apache-tomcat-8.5.53.tar.gz</span>
<span class="token punctuation">[</span>root@localhost application<span class="token punctuation">]</span><span class="token comment"># ln -s apache-tomcat-8.5.53 tomcat</span>
<span class="token punctuation">[</span>root@localhost application<span class="token punctuation">]</span><span class="token comment"># mkdir soft</span>
<span class="token punctuation">[</span>root@localhost application<span class="token punctuation">]</span><span class="token comment"># mv *.gz soft/</span>
<span class="token punctuation">[</span>root@localhost application<span class="token punctuation">]</span><span class="token comment"># /application/tomcat/bin/version.sh </span>
Using CATALINA_BASE:   /application/tomcat
Using CATALINA_HOME:   /application/tomcat
Using CATALINA_TMPDIR: /application/tomcat/temp
Using JRE_HOME:        /application/jdk
Using CLASSPATH:       /application/tomcat/bin/bootstrap.jar:/application/tomcat/bin/tomcat-juli.jar
Server version: Apache Tomcat/8.5.53
Server built:   Mar <span class="token number">11</span> <span class="token number">2020</span> <span class="token number">10</span>:01:39 UTC
Server number:  <span class="token number">8.5</span>.53.0
OS Name:        Linux
OS Version:     <span class="token number">3.10</span>.0-957.el7.x86_64
Architecture:   amd64
JVM Version:    <span class="token number">1.8</span>.0_60-b27
JVM Vendor:     Oracle Corporation

<span class="token comment">#åˆ°æ­¤ä¸ºæ­¢Tomcatéƒ¨ç½²å®Œæˆ</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="_3-3-å¯åŠ¨ä¸ç®¡ç†"><a href="#_3-3-å¯åŠ¨ä¸ç®¡ç†" class="header-anchor">#</a> 3.3.å¯åŠ¨ä¸ç®¡ç†</h3> <ul><li>startup.sh å¯åŠ¨</li> <li>shutdown.sh å…³é—­</li> <li>catalina.sh æ ¸å¿ƒè„šæœ¬</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment">#startup.shæœ€ä¸»è¦çš„éƒ¨åˆ†</span>
<span class="token assign-left variable">PRG</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$0</span>&quot;</span>    <span class="token comment">#è„šæœ¬åï¼š/application/bin/startup.sh</span>
<span class="token assign-left variable">PRGDIR</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">dirname</span> <span class="token string">&quot;<span class="token variable">$PRG</span>&quot;</span><span class="token variable">`</span></span>   <span class="token comment">#dirnameç”¨äºå–å‡ºæ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„ï¼Œbasenameç”¨äºå–å‡ºæ–‡ä»¶å</span>
<span class="token assign-left variable">EXECUTABLE</span><span class="token operator">=</span>catalina.sh
<span class="token builtin class-name">exec</span> <span class="token string">&quot;<span class="token variable">$PRGDIR</span>&quot;</span>/<span class="token string">&quot;<span class="token variable">$EXECUTABLE</span>&quot;</span> start <span class="token string">&quot;<span class="token variable">$@</span>&quot;</span>
<span class="token comment">#ç›¸å½“äº exec /application/tomcat/bin/catalina.sh start   execå¯ä»¥çœç•¥</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>å¯åŠ¨åˆ†æ</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost tomcat<span class="token punctuation">]</span><span class="token comment"># ./bin/startup.sh </span>
Using CATALINA_BASE:   /application/tomcat
Using CATALINA_HOME:   /application/tomcat
Using CATALINA_TMPDIR: /application/tomcat/temp
Using JRE_HOME:        /application/jdk
Using CLASSPATH:       /application/tomcat/bin/bootstrap.jar:/application/tomcat/bin/tomcat-juli.jar
Tomcat started.

<span class="token punctuation">[</span>root@localhost tomcat<span class="token punctuation">]</span><span class="token comment"># ss -lnptu | grep java</span>
tcp    LISTEN     <span class="token number">0</span>      <span class="token number">100</span>      :::8080                 :::*                   users:<span class="token variable"><span class="token punctuation">((</span>&quot;java&quot;<span class="token punctuation">,</span>pid<span class="token operator">=</span><span class="token number">67926</span><span class="token punctuation">,</span>fd<span class="token operator">=</span><span class="token number">52</span><span class="token punctuation">))</span></span>
tcp    LISTEN     <span class="token number">0</span>      <span class="token number">1</span>      ::ffff:127.0.0.1:8005                 :::*                   users:<span class="token variable"><span class="token punctuation">((</span>&quot;java&quot;<span class="token punctuation">,</span>pid<span class="token operator">=</span><span class="token number">67926</span><span class="token punctuation">,</span>fd<span class="token operator">=</span><span class="token number">64</span><span class="token punctuation">))</span></span>

<span class="token punctuation">[</span>root@localhost tomcat<span class="token punctuation">]</span><span class="token comment"># ps -ef | grep java</span>
root      <span class="token number">67926</span>      <span class="token number">1</span> <span class="token number">21</span> <span class="token number">14</span>:31 pts/0    00:00:04 /application/jdk/bin/java -Djava.util.logging.config.file<span class="token operator">=</span>/application/tomcat/conf/logging.properties -Djava.util.logging.manager<span class="token operator">=</span>org.apache.juli.ClassLoaderLogManager -Djdk.tls.ephemeralDHKeySize<span class="token operator">=</span><span class="token number">2048</span> -Djava.protocol.handler.pkgs<span class="token operator">=</span>org.apache.catalina.webresources -Dorg.apache.catalina.security.SecurityListener.UMASK<span class="token operator">=</span>0027 -Dignore.endorsed.dirs<span class="token operator">=</span> -classpath /application/tomcat/bin/bootstrap.jar:/application/tomcat/bin/tomcat-juli.jar -Dcatalina.base<span class="token operator">=</span>/application/tomcat -Dcatalina.home<span class="token operator">=</span>/application/tomcat -Djava.io.tmpdir<span class="token operator">=</span>/application/tomcat/temp org.apache.catalina.startup.Bootstrap start


/application/jdk/bin/java   <span class="token comment">#javaå¯åŠ¨ç¨‹åºçš„ç›®å½•</span>
<span class="token comment">#æ—¥å¿—çš„é…ç½®æ–‡ä»¶</span>
-Djava.util.logging.config.file<span class="token operator">=</span>/application/tomcat/conf/logging.properties 
-Djava.util.logging.manager<span class="token operator">=</span>org.apache.juli.ClassLoaderLogManager 
-Djdk.tls.ephemeralDHKeySize<span class="token operator">=</span><span class="token number">2048</span>
-Djava.protocol.handler.pkgs<span class="token operator">=</span>org.apache.catalina.webresources
-Dorg.apache.catalina.security.SecurityListener.UMASK<span class="token operator">=</span>0027 
-Dignore.endorsed.dirs<span class="token operator">=</span> 
-classpath /application/tomcat/bin/bootstrap.jar:/application/tomcat/bin/tomcat-juli.jar 
<span class="token comment">#Tomcatçš„éƒ¨ç½²ç›®å½•ï¼Œå¤šå®ä¾‹åœ¨åŒºåˆ†æ—¶ä¸»è¦çœ‹è¿™é‡Œ</span>
-Dcatalina.base<span class="token operator">=</span>/application/tomcat 
-Dcatalina.home<span class="token operator">=</span>/application/tomcat 
-Djava.io.tmpdir<span class="token operator">=</span>/application/tomcat/temp org.apache.catalina.startup.Bootstrap
start

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="_4-tomcatç›®å½•ç»“æ„"><a href="#_4-tomcatç›®å½•ç»“æ„" class="header-anchor">#</a> 4.Tomcatç›®å½•ç»“æ„</h2> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost tomcat<span class="token punctuation">]</span><span class="token comment"># ll</span>
æ€»ç”¨é‡ <span class="token number">124</span>
drwxr-x---. <span class="token number">2</span> root root  <span class="token number">4096</span> <span class="token number">3</span>æœˆ  <span class="token number">31</span> <span class="token number">14</span>:30 bin
-rw-r-----. <span class="token number">1</span> root root <span class="token number">19318</span> <span class="token number">3</span>æœˆ  <span class="token number">11</span> <span class="token number">18</span>:06 BUILDING.txt
drwx------. <span class="token number">3</span> root root   <span class="token number">254</span> <span class="token number">3</span>æœˆ  <span class="token number">31</span> <span class="token number">14</span>:31 conf
-rw-r-----. <span class="token number">1</span> root root  <span class="token number">5408</span> <span class="token number">3</span>æœˆ  <span class="token number">11</span> <span class="token number">18</span>:06 CONTRIBUTING.md
drwxr-x---. <span class="token number">2</span> root root  <span class="token number">4096</span> <span class="token number">3</span>æœˆ  <span class="token number">31</span> <span class="token number">14</span>:05 lib
-rw-r-----. <span class="token number">1</span> root root <span class="token number">57011</span> <span class="token number">3</span>æœˆ  <span class="token number">11</span> <span class="token number">18</span>:06 LICENSE
drwxr-x---. <span class="token number">2</span> root root   <span class="token number">197</span> <span class="token number">3</span>æœˆ  <span class="token number">31</span> <span class="token number">14</span>:31 logs
-rw-r-----. <span class="token number">1</span> root root  <span class="token number">1726</span> <span class="token number">3</span>æœˆ  <span class="token number">11</span> <span class="token number">18</span>:06 NOTICE
-rw-r-----. <span class="token number">1</span> root root  <span class="token number">3255</span> <span class="token number">3</span>æœˆ  <span class="token number">11</span> <span class="token number">18</span>:06 README.md
-rw-r-----. <span class="token number">1</span> root root  <span class="token number">7136</span> <span class="token number">3</span>æœˆ  <span class="token number">11</span> <span class="token number">18</span>:06 RELEASE-NOTES
-rw-r-----. <span class="token number">1</span> root root <span class="token number">16262</span> <span class="token number">3</span>æœˆ  <span class="token number">11</span> <span class="token number">18</span>:06 RUNNING.txt
drwxr-x---. <span class="token number">2</span> root root    <span class="token number">30</span> <span class="token number">3</span>æœˆ  <span class="token number">31</span> <span class="token number">14</span>:05 temp
drwxr-x---. <span class="token number">7</span> root root    <span class="token number">81</span> <span class="token number">3</span>æœˆ  <span class="token number">11</span> <span class="token number">18</span>:04 webapps
drwxr-x---. <span class="token number">3</span> root root    <span class="token number">22</span> <span class="token number">3</span>æœˆ  <span class="token number">31</span> <span class="token number">14</span>:31 work

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ul><li><p>bin tomcatç®¡ç†å‘½ä»¤ startup.sh shutdown.sh catalina.sh</p> <ul><li>catalina.shæ˜¯startup.shå’Œshutdown.shéƒ½ä¼šè°ƒç”¨çš„</li> <li>ä»¥åå¯¹äºTomcatä¼˜åŒ–ï¼ˆjvmä¼˜åŒ– è®¾ç½®æœ€å¤§å†…å­˜ æœ€å°å†…å­˜ï¼‰å’Œé…ç½®ç›‘æ§åŠŸèƒ½</li></ul></li> <li><p>conf é…ç½®æ–‡ä»¶å­˜æ”¾ç›®å½•</p> <ul><li>server.xmlï¼ˆç›¸å½“äºnginx.confï¼‰éƒ½æ˜¯ä¸»é…ç½®æ–‡ä»¶</li> <li>web.xm å¦‚æœè¦å¢åŠ æ’æ¶æˆ–è€…ä¼˜åŒ–éƒ½éœ€è¦ä¿®æ”¹æ­¤æ–‡ä»¶</li> <li>tomcat-users.xml tomcatç®¡ç†ç«¯é…ç½®æ–‡ä»¶</li></ul></li> <li><p>webapps tomcatçš„ç«™ç‚¹ç›®å½•ç±»ä¼¼äºnginxçš„html</p></li> <li><p>log æ—¥å¿—æ–‡ä»¶å­˜æ”¾ç›®å½•</p> <ul><li><p>catalina.out tomcatçš„æ ¸å¿ƒæ—¥å¿—æ–‡ä»¶ï¼Œå­˜æ”¾ç€ä»å¯åŠ¨åˆ°å…³é—­åšçš„æ‰€æœ‰æ“ä½œï¼Œè¿™ä¸ªæ–‡ä»¶ä¼šæŒç»­å˜å¤§æŒç»­å¢åŠ ï¼Œå³ä½¿åšäº†æ—¥å¿—åˆ‡å‰²è¿™ä¸ªæ–‡ä»¶ä¹Ÿä¸ä¼šç¼©å°</p></li> <li><p>catalina.2019-09-20.log catalina.outåˆ‡å‰²å‡ºæ¥çš„æ—¥å¿—ï¼ŒLinuxç³»ç»Ÿæœ‰ä¸€ä¸ªåˆ‡å‰²å·¥å…·logrotateï¼Œyumè£…çš„ç¨‹åºé»˜è®¤ä¼šé‡‡ç”¨è¿™ä¸ªè¿›è¡Œåˆ‡å‰²</p></li> <li><p>localhost.2020-03-31.log tomcatçš„è®¿é—®æ—¥å¿—å’Œnginxçš„access.logåŸºæœ¬ä¸€è‡´</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost tomcat<span class="token punctuation">]</span><span class="token comment"># cat /etc/log</span>
login.defs      logrotate.conf  logrotate.d/    
<span class="token punctuation">[</span>root@localhost tomcat<span class="token punctuation">]</span><span class="token comment"># cat /etc/logrotate.d/</span>
bootlog         cups            httpd           libvirtd        libvirtd.qemu   numad           psacct          sssd            wpa_supplicant  
chrony          glusterfs       iscsiuiolog     libvirtd.lxc    mariadb         ppp             samba           syslog          yum             
<span class="token punctuation">[</span>root@localhost tomcat<span class="token punctuation">]</span><span class="token comment"># cat /etc/logrotate.d/syslog </span>
/var/log/cron
/var/log/maillog
/var/log/messages
/var/log/secure
/var/log/spooler
<span class="token punctuation">{</span>
    missingok
    sharedscripts
    postrotate
  /bin/kill -HUP <span class="token variable"><span class="token variable">`</span><span class="token function">cat</span> /var/run/syslogd.pid <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> /dev/null<span class="token variable">`</span></span> <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> /dev/null <span class="token operator">||</span> <span class="token boolean">true</span>
    endscript
<span class="token punctuation">}</span>
<span class="token punctuation">[</span>root@localhost tomcat<span class="token punctuation">]</span><span class="token comment"># </span>

<span class="token number">1234567891011121314151617181920</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></li></ul></li></ul> <h2 id="_5-é…ç½®tomcatç®¡ç†åŠŸèƒ½"><a href="#_5-é…ç½®tomcatç®¡ç†åŠŸèƒ½" class="header-anchor">#</a> 5.é…ç½®Tomcatç®¡ç†åŠŸèƒ½</h2> <p>å¯åŠ¨å®Œtomcatç‚¹ä¸‹å›¾æ¡†ä¸­é»˜è®¤ä¼šæŠ¥é”™ï¼Œå› ä¸ºæ²¡æœ‰è´¦å·å¯†ç ï¼Œå°è¯•å¤šæ¬¡åä¼šæŠ¥401
<img src="https://agou-images.oss-cn-qingdao.aliyuncs.com/others/20200502220909683.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>æˆ‘ä»¬éœ€è¦ä¿®æ”¹conf/tomcat-users.xmlæ–‡ä»¶å³å¯ï¼Œä¸‹è½½åœ¨ç™»å½•æ—¶è¾“å…¥usernameå½“æ—¶é…ç½®çš„å³å¯æ­£å¸¸ç™»å½•</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost tomcat<span class="token punctuation">]</span><span class="token comment"># cat conf/tomcat-users.xml</span>
<span class="token operator">&lt;</span>?xml <span class="token assign-left variable">version</span><span class="token operator">=</span><span class="token string">&quot;1.0&quot;</span> <span class="token assign-left variable">encoding</span><span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span>?<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>tomcat-users <span class="token assign-left variable">xmlns</span><span class="token operator">=</span><span class="token string">&quot;http://tomcat.apache.org/xml&quot;</span>
              xmlns:xsi<span class="token operator">=</span><span class="token string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
              xsi:schemaLocation<span class="token operator">=</span><span class="token string">&quot;http://tomcat.apache.org/xml tomcat-users.xsd&quot;</span>
              <span class="token assign-left variable">version</span><span class="token operator">=</span><span class="token string">&quot;1.0&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>role <span class="token assign-left variable">rolename</span><span class="token operator">=</span><span class="token string">&quot;admin-gui&quot;</span>/<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>role <span class="token assign-left variable">rolename</span><span class="token operator">=</span><span class="token string">&quot;host-gui&quot;</span>/<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>role <span class="token assign-left variable">rolename</span><span class="token operator">=</span><span class="token string">&quot;manager-gui&quot;</span>/<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>user <span class="token assign-left variable">username</span><span class="token operator">=</span><span class="token string">&quot;admin&quot;</span> <span class="token assign-left variable">password</span><span class="token operator">=</span><span class="token string">&quot;admin&quot;</span> <span class="token assign-left variable">roles</span><span class="token operator">=</span><span class="token string">&quot;admin-gui,host-gui,manager-gui&quot;</span>/<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/tomcat-users<span class="token operator">&gt;</span>

<span class="token comment">#é…ç½®å®Œæˆåéœ€è¦é‡å¯</span>
åœ¨æ‰§è¡Œ./shutdownåä¸€å®šè¦æŸ¥çœ‹è¿›ç¨‹å’Œç«¯å£åœ¨ä¸åœ¨

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><img src="https://agou-images.oss-cn-qingdao.aliyuncs.com/others/20200502220946745.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>tomcat8.5ä»¥åçš„ç‰ˆæœ¬é»˜è®¤åªå…è®¸æœºè®¿é—®ï¼Œæ¢éœ€è¦ä¿®æ”¹webapps/manager/META-INF/context.xml</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment">#å°†value classçš„è¡Œæ³¨é‡Šæ‰å³å¯</span>
<span class="token punctuation">[</span>root@localhost tomcat<span class="token punctuation">]</span><span class="token comment"># cat webapps/manager/META-INF/context.xml</span>
<span class="token operator">&lt;</span>?xml <span class="token assign-left variable">version</span><span class="token operator">=</span><span class="token string">&quot;1.0&quot;</span> <span class="token assign-left variable">encoding</span><span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span>?<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Context <span class="token assign-left variable">antiResourceLocking</span><span class="token operator">=</span><span class="token string">&quot;false&quot;</span> <span class="token assign-left variable">privileged</span><span class="token operator">=</span><span class="token string">&quot;true&quot;</span> <span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">!</span>--<span class="token operator">&lt;</span>Valve <span class="token assign-left variable">className</span><span class="token operator">=</span><span class="token string">&quot;org.apache.catalina.valves.RemoteAddrValve&quot;</span>
         <span class="token assign-left variable">allow</span><span class="token operator">=</span><span class="token string">&quot;127\.\d+\.\d+\.\d+|::1|0:0:0:0:0:0:0:1&quot;</span> /<span class="token operator">&gt;</span>
--<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>Manager <span class="token assign-left variable">sessionAttributeValueClassNameFilter</span><span class="token operator">=</span><span class="token string">&quot;java\.lang\.(?:Boolean|Integer|Long|Number|String)|org\.apache\.catalina\.filters\.CsrfPreventionFilter\<span class="token variable">$LruCache</span>(?:\<span class="token variable">$1</span>)?|java\.util\.(?:Linked)?HashMap&quot;</span>/<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/Context<span class="token operator">&gt;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><img src="https://agou-images.oss-cn-qingdao.aliyuncs.com/others/2020050222102775.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <h2 id="_6-éƒ¨ç½²jpress"><a href="#_6-éƒ¨ç½²jpress" class="header-anchor">#</a> 6.éƒ¨ç½²jpress</h2> <h3 id="_6-1-æ•°æ®åº“å‡†å¤‡"><a href="#_6-1-æ•°æ®åº“å‡†å¤‡" class="header-anchor">#</a> 6.1.æ•°æ®åº“å‡†å¤‡</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>MariaDB <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> create database jpress charset utf8mb4<span class="token punctuation">;</span>
Query OK, <span class="token number">1</span> row affected <span class="token punctuation">(</span><span class="token number">0.02</span> sec<span class="token punctuation">)</span>

MariaDB <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> show create database jpress<span class="token punctuation">;</span>
+----------+--------------------------------------------------------------------+
<span class="token operator">|</span> Database <span class="token operator">|</span> Create Database                                                    <span class="token operator">|</span>
+----------+--------------------------------------------------------------------+
<span class="token operator">|</span> jpress   <span class="token operator">|</span> CREATE DATABASE <span class="token variable"><span class="token variable">`</span>jpress<span class="token variable">`</span></span> /*<span class="token operator">!</span><span class="token number">40100</span> DEFAULT CHARACTER SET utf8mb4 */ <span class="token operator">|</span>
+----------+--------------------------------------------------------------------+
<span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

MariaDB <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> grant all on jpress.* to <span class="token string">'jpress'</span>@<span class="token string">'localhost'</span> identified by <span class="token string">'123456'</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

MariaDB <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> 
MariaDB <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> user,host from mysql.user<span class="token punctuation">;</span>
+--------+-----------------------+
<span class="token operator">|</span> user   <span class="token operator">|</span> <span class="token function">host</span>                  <span class="token operator">|</span>
+--------+-----------------------+
<span class="token operator">|</span> root   <span class="token operator">|</span> <span class="token number">127.0</span>.0.1             <span class="token operator">|</span>
<span class="token operator">|</span> root   <span class="token operator">|</span> ::1                   <span class="token operator">|</span>
<span class="token operator">|</span>        <span class="token operator">|</span> localhost             <span class="token operator">|</span>
<span class="token operator">|</span> jpress <span class="token operator">|</span> localhost             <span class="token operator">|</span>
<span class="token operator">|</span> root   <span class="token operator">|</span> localhost             <span class="token operator">|</span>
<span class="token operator">|</span>        <span class="token operator">|</span> localhost.localdomain <span class="token operator">|</span>
<span class="token operator">|</span> root   <span class="token operator">|</span> localhost.localdomain <span class="token operator">|</span>
+--------+-----------------------+
<span class="token number">7</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

MariaDB <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> grant all on jpress.* to <span class="token string">'jpress'</span>@<span class="token string">'192.168.81.%'</span> identified by <span class="token string">'123456'</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

MariaDB <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> drop user <span class="token string">''</span>@<span class="token string">'localhost'</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

MariaDB <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> 
MariaDB <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> user,host from mysql.user<span class="token punctuation">;</span>
+--------+-----------------------+
<span class="token operator">|</span> user   <span class="token operator">|</span> <span class="token function">host</span>                  <span class="token operator">|</span>
+--------+-----------------------+
<span class="token operator">|</span> root   <span class="token operator">|</span> <span class="token number">127.0</span>.0.1             <span class="token operator">|</span>
<span class="token operator">|</span> jpress <span class="token operator">|</span> <span class="token number">192.168</span>.81.%          <span class="token operator">|</span>
<span class="token operator">|</span> root   <span class="token operator">|</span> ::1                   <span class="token operator">|</span>
<span class="token operator">|</span> jpress <span class="token operator">|</span> localhost             <span class="token operator">|</span>
<span class="token operator">|</span> root   <span class="token operator">|</span> localhost             <span class="token operator">|</span>
<span class="token operator">|</span>        <span class="token operator">|</span> localhost.localdomain <span class="token operator">|</span>
<span class="token operator">|</span> root   <span class="token operator">|</span> localhost.localdomain <span class="token operator">|</span>
+--------+-----------------------+
<span class="token number">7</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

MariaDB <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> flush privileges<span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><h3 id="_6-2-è·å–jpressä»£ç "><a href="#_6-2-è·å–jpressä»£ç " class="header-anchor">#</a> 6.2.è·å–jpressä»£ç </h3> <ul><li>https://gitee.com/GalaIO/jpress/blob/master/wars/jpress-web-newest.war</li></ul> <p><img src="https://agou-images.oss-cn-qingdao.aliyuncs.com/others/20200502221054840.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost webapps<span class="token punctuation">]</span><span class="token comment"># cp jpress/jpress/wars/jpress-web-newest.war  .</span>
<span class="token punctuation">[</span>root@localhost webapps<span class="token punctuation">]</span><span class="token comment"># rm -rf jpress</span>
<span class="token punctuation">[</span>root@localhost webapps<span class="token punctuation">]</span><span class="token comment"># rm -rf jpress.war </span>
<span class="token punctuation">[</span>root@localhost webapps<span class="token punctuation">]</span><span class="token comment"># mv jpress-web-newest jpress</span>
<span class="token punctuation">[</span>root@localhost webapps<span class="token punctuation">]</span><span class="token comment"># mv jpress-web-newest.war jpress.war</span>
<span class="token punctuation">[</span>root@localhost webapps<span class="token punctuation">]</span><span class="token comment"># ls</span>
docs  examples  host-manager  jpress  jpress.war  jpress-web-newest  manager  ROOT

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>ä¸‹é¢è®¿é—®http://192.168.81.210:8080/jpress</li></ul> <p><img src="https://agou-images.oss-cn-qingdao.aliyuncs.com/others/20200502221126344.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p><img src="https://agou-images.oss-cn-qingdao.aliyuncs.com/others/20200502221151818.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p><img src="https://agou-images.oss-cn-qingdao.aliyuncs.com/others/20200502221209322.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p><img src="https://agou-images.oss-cn-qingdao.aliyuncs.com/others/20200502221247953.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <ul><li>æˆ‘ä»¬å»é‡å¯ä¸€ä¸‹tomcat</li> <li>jpressçš„é…ç½®æ–‡ä»¶ä½äºwebapps/jpress/WEB-INF/classesï¼Œ db.properties</li> <li>å®‰è£…å®Œæˆé»˜è®¤æ˜¯è¿›å…¥æ•´ä½“çš„é¦–é¡µï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å•ç‹¬è´¦å·è¿›è¡Œç™»å½•</li> <li>ç„¶åå»è®¿é—®http://192.168.81.210:8080/jpress/admin</li></ul> <p><img src="https://agou-images.oss-cn-qingdao.aliyuncs.com/others/20200502221414412.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p><img src="https://agou-images.oss-cn-qingdao.aliyuncs.com/others/20200502221516725.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <ul><li><p>å¯ä»¥å†™ä¸€ç¯‡æ–‡ç« å¹¶ä¸Šä¼ å›¾ç‰‡</p> <p><img src="https://agou-images.oss-cn-qingdao.aliyuncs.com/others/20200502221538238.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p></li> <li><p>åœ¨jpress/attachment/20200331/ç›®å½•å¯ä»¥çœ‹åˆ°ç”¨æˆ·ä¸Šä¼ çš„é™„ä»¶</p></li> <li><p>å¯ä»¥çœ‹åˆ°jpressä¸­çš„è¡¨</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>MariaDB <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> show tables from jpress<span class="token punctuation">;</span>
+-------------------+
<span class="token operator">|</span> Tables_in_jpress  <span class="token operator">|</span>
+-------------------+
<span class="token operator">|</span> jpress_attachment <span class="token operator">|</span>
<span class="token operator">|</span> jpress_comment    <span class="token operator">|</span>
<span class="token operator">|</span> jpress_content    <span class="token operator">|</span>
<span class="token operator">|</span> jpress_mapping    <span class="token operator">|</span>
<span class="token operator">|</span> jpress_metadata   <span class="token operator">|</span>
<span class="token operator">|</span> jpress_option     <span class="token operator">|</span>
<span class="token operator">|</span> jpress_taxonomy   <span class="token operator">|</span>
<span class="token operator">|</span> jpress_user       <span class="token operator">|</span>
+-------------------+
<span class="token number">8</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

æ–‡ç« å†…å®¹åº”è¯¥æ˜¯åœ¨contentè¡¨ä¸­
MariaDB <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> * from jpress.jpress_content <span class="token punctuation">\</span>G<span class="token punctuation">;</span>
*************************** <span class="token number">1</span>. row ***************************
              id: <span class="token number">1</span>
           title: ç¬¬ä¸€ç¯‡æµ‹è¯•æ–‡æ¡£
            text: <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>æ±Ÿæ™“é¾™å¾ˆç‰›ï¼ï¼ï¼ï¼<span class="token operator">&lt;</span>img <span class="token assign-left variable">src</span><span class="token operator">=</span><span class="token string">&quot;/jpress/attachment/20200331/da5a9dd62da44c3fb1cab6fe9f7b293d.jpg&quot;</span> <span class="token assign-left variable">alt</span><span class="token operator">=</span><span class="token string">&quot;å•Šå•Šå•Š&quot;</span> <span class="token assign-left variable">width</span><span class="token operator">=</span><span class="token string">&quot;554&quot;</span> <span class="token assign-left variable">height</span><span class="token operator">=</span><span class="token string">&quot;221&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>/p<span class="token operator">&gt;</span>
       thumbnail: NULL
          module: article
           style: NULL
         user_id: <span class="token number">1</span>
       parent_id: NULL
       object_id: NULL
    order_number: <span class="token number">0</span>
          status: normal
         vote_up: <span class="token number">0</span>
       vote_down: <span class="token number">0</span>
           price: <span class="token number">0.00</span>
  comment_status: NULL
   comment_count: <span class="token number">0</span>
      view_count: <span class="token number">0</span>
         created: <span class="token number">2020</span>-03-31 <span class="token number">18</span>:16:56
        modified: <span class="token number">2020</span>-03-31 <span class="token number">18</span>:16:56
            slug: ç¬¬ä¸€ç¯‡æµ‹è¯•æ–‡æ¡£
            flag: NULL
             lng: NULL
             lat: NULL
   meta_keywords: NULL
meta_description: NULL
         remarks: NULL
<span class="token number">1234567891011121314151617181920212223242526272829303132333435363738394041424344</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div></li> <li><p>åˆ é™¤è¿™æ¡è®°å½•ï¼Œé¡µé¢çš„æ–‡ç« è·Ÿç€æ¶ˆå¤±</p></li> <li><p>åœ¨æ’å›å»ï¼Œå†…å®¹è¿˜ä¼šå­˜åœ¨</p></li></ul> <h2 id="_7-æ˜¾ç¤ºjvmå†…å­˜ä¿¡æ¯"><a href="#_7-æ˜¾ç¤ºjvmå†…å­˜ä¿¡æ¯" class="header-anchor">#</a> 7.æ˜¾ç¤ºjvmå†…å­˜ä¿¡æ¯</h2> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment">#éœ€è¦åœ¨webapps/ROOTç›®å½•ä¸‹å†™ä¸€ä¸ªmem.jspçš„æ–‡ä»¶</span>
<span class="token punctuation">[</span>root@localhost tomcat<span class="token punctuation">]</span><span class="token comment"># cat webapps/ROOT/mem.jsp </span>
<span class="token operator">&lt;</span>%
Runtime rtm <span class="token operator">=</span> Runtime.getRuntime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
long mm <span class="token operator">=</span> rtm.maxMemory<span class="token punctuation">(</span><span class="token punctuation">)</span>/1024/1024<span class="token punctuation">;</span>
long tm <span class="token operator">=</span> rtm.totalMemory<span class="token punctuation">(</span><span class="token punctuation">)</span>/1024/1024<span class="token punctuation">;</span>
long fm <span class="token operator">=</span> rtm.freeMemory<span class="token punctuation">(</span><span class="token punctuation">)</span>/1024/1024<span class="token punctuation">;</span>

out.println<span class="token punctuation">(</span><span class="token string">&quot;JVM memory detail info :&lt;br&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out.println<span class="token punctuation">(</span><span class="token string">&quot;Max memory:&quot;</span>+mm+<span class="token string">&quot;MB&quot;</span>+<span class="token string">&quot;&lt;br&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out.println<span class="token punctuation">(</span><span class="token string">&quot;Total memory:&quot;</span>+tm+<span class="token string">&quot;MB&quot;</span>+<span class="token string">&quot;&lt;br&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out.println<span class="token punctuation">(</span><span class="token string">&quot;Free memory:&quot;</span>+fm+<span class="token string">&quot;MB&quot;</span>+<span class="token string">&quot;&lt;br&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out.println<span class="token punctuation">(</span><span class="token string">&quot;Available memory can be used is :&quot;</span>+<span class="token punctuation">(</span>mm+fm-tm<span class="token punctuation">)</span>+<span class="token string">&quot;MB&quot;</span>+<span class="token string">&quot;&lt;br&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
%<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li>è®¿é—®http://192.168.81.210:8080/mem.jsp
<img src="https://agou-images.oss-cn-qingdao.aliyuncs.com/others/202005022216493.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ul> <h2 id="_8-tomcatä¸»é…ç½®æ–‡ä»¶"><a href="#_8-tomcatä¸»é…ç½®æ–‡ä»¶" class="header-anchor">#</a> 8.Tomcatä¸»é…ç½®æ–‡ä»¶</h2> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment">#shutdownç«¯å£  è¿æ¥åˆ°è¿™ä¸ªç«¯å£å¹¶è¾“å…¥åé¢çš„æš—å· SHUTDOWN æŠŠtomcatå…³é—­ï¼Œéœ€è¦æŠŠæš—å·ç»™æ”¹æ‰</span>
<span class="token operator">&lt;</span>Server <span class="token assign-left variable">port</span><span class="token operator">=</span><span class="token string">&quot;8005&quot;</span> <span class="token assign-left variable">shutdown</span><span class="token operator">=</span><span class="token string">&quot;SHUTDOWN&quot;</span><span class="token operator">&gt;</span>

<span class="token punctuation">[</span>root@localhost tomcat<span class="token punctuation">]</span><span class="token comment"># ss -lnptu | grep java</span>
tcp    LISTEN     <span class="token number">0</span>      <span class="token number">100</span>      :::8080                 :::*                   users:<span class="token variable"><span class="token punctuation">((</span>&quot;java&quot;<span class="token punctuation">,</span>pid<span class="token operator">=</span><span class="token number">77014</span><span class="token punctuation">,</span>fd<span class="token operator">=</span><span class="token number">52</span><span class="token punctuation">))</span></span>
tcp    LISTEN     <span class="token number">0</span>      <span class="token number">1</span>      ::ffff:127.0.0.1:8005                 :::*                   users:<span class="token variable"><span class="token punctuation">((</span>&quot;java&quot;<span class="token punctuation">,</span>pid<span class="token operator">=</span><span class="token number">77014</span><span class="token punctuation">,</span>fd<span class="token operator">=</span><span class="token number">62</span><span class="token punctuation">))</span></span>
<span class="token punctuation">[</span>root@localhost tomcat<span class="token punctuation">]</span><span class="token comment"># telnet 127.0.0.1 8005</span>
Trying <span class="token number">127.0</span>.0.1<span class="token punctuation">..</span>.
Connected to <span class="token number">127.0</span>.0.1.
Escape character is <span class="token string">'^]'</span><span class="token builtin class-name">.</span>
SHUTDOWN
Connection closed by foreign host.
<span class="token punctuation">[</span>root@localhost tomcat<span class="token punctuation">]</span><span class="token comment"># ss -lnptu | grep java</span>


<span class="token comment">#tomcatç®¡ç†ç«¯ï¼Œä¸€èˆ¬ä¸å¼€æ”¾ï¼Œä»¥å…ç”¨æˆ·çœ‹åˆ°é…ç½®</span>
<span class="token operator">&lt;</span>GlobalNamingResources<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span>-- Editable user database that can also be used by
         UserDatabaseRealm to authenticate <span class="token function">users</span>
    --<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Resource <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;UserDatabase&quot;</span> <span class="token assign-left variable">auth</span><span class="token operator">=</span><span class="token string">&quot;Container&quot;</span>
              <span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token string">&quot;org.apache.catalina.UserDatabase&quot;</span>
              <span class="token assign-left variable">description</span><span class="token operator">=</span><span class="token string">&quot;User database that can be updated and saved&quot;</span>
              <span class="token assign-left variable">factory</span><span class="token operator">=</span><span class="token string">&quot;org.apache.catalina.users.MemoryUserDatabaseFactory&quot;</span>
              <span class="token assign-left variable">pathname</span><span class="token operator">=</span><span class="token string">&quot;conf/tomcat-users.xml&quot;</span> /<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/GlobalNamingResources<span class="token operator">&gt;</span>

<span class="token comment">#è®¾ç½®tomcatçš„ç«¯å£ï¼ŒwebåŠŸèƒ½ï¼ŒredirectPortæ˜¯è¡¨ç¤ºå¯ç”¨äº†httpsåçš„ç«¯å£ä¹Ÿå°±æ˜¯443</span>
<span class="token operator">&lt;</span>Connector <span class="token assign-left variable">port</span><span class="token operator">=</span><span class="token string">&quot;8080&quot;</span> <span class="token assign-left variable">protocol</span><span class="token operator">=</span><span class="token string">&quot;HTTP/1.1&quot;</span>
               <span class="token assign-left variable">connectionTimeout</span><span class="token operator">=</span><span class="token string">&quot;20000&quot;</span>
               <span class="token assign-left variable">redirectPort</span><span class="token operator">=</span><span class="token string">&quot;8443&quot;</span> /<span class="token operator">&gt;</span>


<span class="token comment">#tomcatçº¿ç¨‹æ•°ï¼ŒmaxThreadsè¡¨ç¤ºåœ¨tomcatå¿™çš„æ—¶å€™æœ€å¤šå¤„ç†å¤šå°‘ä¸ªçº¿ç¨‹ï¼ŒminSpareThreadsè¡¨ç¤ºæ­£å¸¸æƒ…å†µä¸‹tomcatå¤„ç†çº¿ç¨‹çš„æ•°é‡</span>
     <span class="token operator">&lt;</span>Executor <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;tomcatThreadPool&quot;</span> <span class="token assign-left variable">namePrefix</span><span class="token operator">=</span><span class="token string">&quot;catalina-exec-&quot;</span>
        <span class="token assign-left variable">maxThreads</span><span class="token operator">=</span><span class="token string">&quot;150&quot;</span> <span class="token assign-left variable">minSpareThreads</span><span class="token operator">=</span><span class="token string">&quot;4&quot;</span>/<span class="token operator">&gt;</span>


<span class="token comment">#8009 ajp å·¥ä½œæ–¹å¼ï¼šä¸Apacheé…åˆ</span>
<span class="token operator">&lt;</span>Connector <span class="token assign-left variable">protocol</span><span class="token operator">=</span><span class="token string">&quot;AJP/1.3&quot;</span>
               <span class="token assign-left variable">address</span><span class="token operator">=</span><span class="token string">&quot;::1&quot;</span>
               <span class="token assign-left variable">port</span><span class="token operator">=</span><span class="token string">&quot;8009&quot;</span>
               <span class="token assign-left variable">redirectPort</span><span class="token operator">=</span><span class="token string">&quot;8443&quot;</span> /<span class="token operator">&gt;</span>
               

<span class="token comment">#host  è™šæ‹Ÿä¸»æœºéƒ¨åˆ†</span>
<span class="token comment">#host nameï¼šé…ç½®åŸŸå</span>
<span class="token comment">#appBaseï¼šç«™ç‚¹ç›®å½•</span>
<span class="token comment">#uppackWARSï¼šæ˜¯å¦è‡ªåŠ¨è§£å‹waråŒ…ï¼Œtrueå°±æ˜¯è§£å‹ï¼Œfalseå°±æ˜¯ä¸è§£å‹</span>
<span class="token comment">#autoDeployï¼šæ˜¯å¦è‡ªåŠ¨éƒ¨ç½²æŠŠç£ç›˜ä¸­çš„æ‰”åˆ°jvmä¸­</span>
 <span class="token operator">&lt;</span>Host <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;localhost&quot;</span>  <span class="token assign-left variable">appBase</span><span class="token operator">=</span><span class="token string">&quot;webapps&quot;</span>
            <span class="token assign-left variable">unpackWARs</span><span class="token operator">=</span><span class="token string">&quot;true&quot;</span> <span class="token assign-left variable">autoDeploy</span><span class="token operator">=</span><span class="token string">&quot;true&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span>--<span class="token operator">&lt;</span>Context <span class="token assign-left variable">docBase</span><span class="token operator">=</span><span class="token string">&quot;/application/tomcat/webapps/&quot;</span> <span class="token assign-left variable">path</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span> <span class="token assign-left variable">reloadable</span><span class="token operator">=</span><span class="token string">&quot;false&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>/Context<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span><span class="token operator">!</span>-- SingleSignOn valve, share authentication between web applications
             Documentation at: /docs/config/valve.html --<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span>--
        <span class="token operator">&lt;</span>Valve <span class="token assign-left variable">className</span><span class="token operator">=</span><span class="token string">&quot;org.apache.catalina.authenticator.SingleSignOn&quot;</span> /<span class="token operator">&gt;</span>
        --<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span><span class="token operator">!</span>-- Access log processes all example.
             Documentation at: /docs/config/valve.html
             Note: The pattern used is equivalent to using <span class="token assign-left variable">pattern</span><span class="token operator">=</span><span class="token string">&quot;common&quot;</span> --<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Valve <span class="token assign-left variable">className</span><span class="token operator">=</span><span class="token string">&quot;org.apache.catalina.valves.AccessLogValve&quot;</span> <span class="token assign-left variable">directory</span><span class="token operator">=</span><span class="token string">&quot;logs&quot;</span>
               <span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;localhost_access_log&quot;</span> <span class="token assign-left variable">suffix</span><span class="token operator">=</span><span class="token string">&quot;.txt&quot;</span>
               <span class="token assign-left variable">pattern</span><span class="token operator">=</span><span class="token string">&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot;</span> /<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>/Host<span class="token operator">&gt;</span>
      
      
<span class="token comment">#tomcatè®¿é—®æ—¥å¿—çš„æ ¼å¼</span>
 <span class="token operator">&lt;</span>Valve <span class="token assign-left variable">className</span><span class="token operator">=</span><span class="token string">&quot;org.apache.catalina.valves.AccessLogValve&quot;</span> <span class="token assign-left variable">directory</span><span class="token operator">=</span><span class="token string">&quot;logs&quot;</span>
               <span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;localhost_access_log&quot;</span> <span class="token assign-left variable">suffix</span><span class="token operator">=</span><span class="token string">&quot;.txt&quot;</span>
               <span class="token assign-left variable">pattern</span><span class="token operator">=</span><span class="token string">&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot;</span> /<span class="token operator">&gt;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br></div></div><h2 id="_9-tomcatå¤šå®ä¾‹é…ç½®"><a href="#_9-tomcatå¤šå®ä¾‹é…ç½®" class="header-anchor">#</a> 9.Tomcatå¤šå®ä¾‹é…ç½®</h2> <p>ä¸€å°ä¸»æœºå¯èƒ½ä¼šè·‘å¤šä¸ªtomcat</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost soft<span class="token punctuation">]</span><span class="token comment"># tar -xf apache-tomcat-8.5.53.tar.gz </span>
<span class="token punctuation">[</span>root@localhost soft<span class="token punctuation">]</span><span class="token comment"># ls</span>
apache-tomcat-8.5.53  apache-tomcat-8.5.53.tar.gz  jdk-8u60-linux-x64.tar.gz
<span class="token punctuation">[</span>root@localhost soft<span class="token punctuation">]</span><span class="token comment"># mv apache-tomcat-8.5.53 ../tomcat_8081</span>
<span class="token punctuation">[</span>root@localhost soft<span class="token punctuation">]</span><span class="token comment"># tar -xf apache-tomcat-8.5.53.tar.gz </span>
<span class="token punctuation">[</span>root@localhost soft<span class="token punctuation">]</span><span class="token comment"># mv apache-tomcat-8.5.53 ../tomcat_8082</span>

<span class="token punctuation">[</span>root@localhost application<span class="token punctuation">]</span><span class="token comment"># sed -ri 's/8080/8081/g' tomcat_8081/conf/server.xml </span>
<span class="token punctuation">[</span>root@localhost application<span class="token punctuation">]</span><span class="token comment"># sed -ri 's/8005/8006/g' tomcat_8081/conf/server.xml </span>
<span class="token punctuation">[</span>root@localhost application<span class="token punctuation">]</span><span class="token comment"># sed -ri 's/8009/8010/g' tomcat_8081/conf/server.xml</span>
<span class="token punctuation">[</span>root@localhost application<span class="token punctuation">]</span><span class="token comment"># sed -ri 's/8080/8082/g' tomcat_8082/conf/server.xml </span>
<span class="token punctuation">[</span>root@localhost application<span class="token punctuation">]</span><span class="token comment"># sed -ri 's/8005/8007/g' tomcat_8082/conf/server.xml </span>
<span class="token punctuation">[</span>root@localhost application<span class="token punctuation">]</span><span class="token comment"># sed -ri 's/8009/8011/g' tomcat_8082/conf/server.xml</span>

<span class="token punctuation">[</span>root@localhost application<span class="token punctuation">]</span><span class="token comment"># tomcat_8081/bin/startup.sh </span>
<span class="token punctuation">[</span>root@localhost application<span class="token punctuation">]</span><span class="token comment"># tomcat_8082/bin/startup.sh </span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><img src="https://agou-images.oss-cn-qingdao.aliyuncs.com/others/20200502221730623.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment">#ä¹¦å†™tomcatç›¸å…³è„šæœ¬æ—¶ï¼ˆå¯åŠ¨ é‡å¯ ç›‘æ§ï¼‰éƒ½æœ‰ç²¾ç¡®è¿‡æ»¤</span>
<span class="token function">ps</span> aux <span class="token operator">|</span> <span class="token function">grep</span> java <span class="token operator">|</span> <span class="token function">grep</span> tomcat_8081
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_10-tomcatç›‘æ§"><a href="#_10-tomcatç›‘æ§" class="header-anchor">#</a> 10.Tomcatç›‘æ§</h2> <p>ç›‘æ§æ–¹å¼</p> <ul><li>ç®€å•å‘½ä»¤</li> <li>ç°æˆè„šæœ¬</li> <li>é€šè¿‡zabbixè‡ªå®šä¹‰ç›‘æ§
<ul><li>è‡ªå®šä¹‰ç›‘æ§ åªè¦æ˜¯ç”¨å‘½ä»¤èƒ½å¾—åˆ°çš„ä¸œè¥¿éƒ½èƒ½å»ç›‘æ§</li> <li>é€šè¿‡jmx å¯¹javaè¿›è¡Œç›‘æ§</li></ul></li> <li>å…¶ä»–ç›‘æ§
<ul><li>é€šè¿‡ipmi ç›‘æ§ç¡¬ä»¶çš„</li> <li>é€šè¿‡snmp ç›‘æ§ç½‘ç»œè®¾å¤‡çš„ï¼Œåªè¦æ”¯æŒsnmpéƒ½èƒ½ç›‘æ§</li></ul></li></ul> <p>javaè‡ªå¸¦çš„ç›‘æ§å‘½ä»¤</p> <ul><li><p>jps å¯¼å‡ºjavaç›¸å…³çš„è¿›ç¨‹</p></li> <li><p>æ ¼å¼ï¼šjps -lvm</p></li> <li><p>å‚æ•°é€‰é¡¹ï¼š-lvmæœ€è¯¦ç»†</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># jps -lvm</span>
<span class="token number">7457</span> org.apache.catalina.startup.Bootstrap start start -Djava.util.logging.config.file<span class="token operator">=</span>/application/tomcat/conf/logging.properties -Djava.util.logging.manager<span class="token operator">=</span>org.apache.juli.ClassLoaderLogManager -Djdk.tls.ephemeralDHKeySize<span class="token operator">=</span><span class="token number">2048</span> -Djava.protocol.handler.pkgs<span class="token operator">=</span>org.apache.catalina.webresources -Dorg.apache.catalina.security.SecurityListener.UMASK<span class="token operator">=</span>0027 -Dignore.endorsed.dirs<span class="token operator">=</span> -Dcatalina.base<span class="token operator">=</span>/application/tomcat -Dcatalina.home<span class="token operator">=</span>/application/tomcat -Djava.io.tmpdir<span class="token operator">=</span>/application/tomcat/temp
<span class="token number">7525</span> org.apache.catalina.startup.Bootstrap start start -Djava.util.logging.config.file<span class="token operator">=</span>/application/tomcat_8082/conf/logging.properties -Djava.util.logging.manager<span class="token operator">=</span>org.apache.juli.ClassLoaderLogManager -Djdk.tls.ephemeralDHKeySize<span class="token operator">=</span><span class="token number">2048</span> -Djava.protocol.handler.pkgs<span class="token operator">=</span>org.apache.catalina.webresources -Dorg.apache.catalina.security.SecurityListener.UMASK<span class="token operator">=</span>0027 -Dignore.endorsed.dirs<span class="token operator">=</span> -Dcatalina.base<span class="token operator">=</span>/application/tomcat_8082 -Dcatalina.home<span class="token operator">=</span>/application/tomcat_8082 -Djava.io.tmpdir<span class="token operator">=</span>/application/tomcat_8082/temp
<span class="token number">9144</span> sun.tools.jps.Jps -lvm -Denv.class.path<span class="token operator">=</span>.:/application/jdk/lib:/application/jdk/jre/lib:/application/jdk/lib/tools.jar -Dapplication.home<span class="token operator">=</span>/application/jdk1.8.0_60 -Xms8m
<span class="token number">7482</span> org.apache.catalina.startup.Bootstrap start start -Djava.util.logging.config.file<span class="token operator">=</span>/application/tomcat_8081/conf/logging.properties -Djava.util.logging.manager<span class="token operator">=</span>org.apache.juli.ClassLoaderLogManager -Djdk.tls.ephemeralDHKeySize<span class="token operator">=</span><span class="token number">2048</span> -Djava.protocol.handler.pkgs<span class="token operator">=</span>org.apache.catalina.webresources -Dorg.apache.catalina.security.SecurityListener.UMASK<span class="token operator">=</span>0027 -Dignore.endorsed.dirs<span class="token operator">=</span> -Dcatalina.base<span class="token operator">=</span>/application/tomcat_8081 -Dcatalina.home<span class="token operator">=</span>/application/tomcat_8081 -Djava.io.tmpdir<span class="token operator">=</span>/application/tomcat_8081/temp

<span class="token number">123456</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>jmap å¯¼å‡ºjvmä¿¡æ¯ï¼Œå¸¸ç”¨äºè‡ªå®šä¹‰ç›‘æ§</p></li> <li><p>æ ¼å¼ï¼šjmap pid</p></li> <li><p>å‚æ•°ï¼š-heap</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># jmap -heap 7457</span>
Attaching to process ID <span class="token number">7457</span>, please wait<span class="token punctuation">..</span>.
Debugger attached successfully.
Server compiler detected.
JVM version is <span class="token number">25.60</span>-b23

using thread-local object allocation.
Mark Sweep Compact GC

Heap Configuration:
   MinHeapFreeRatio         <span class="token operator">=</span> <span class="token number">40</span>
   MaxHeapFreeRatio         <span class="token operator">=</span> <span class="token number">70</span>
   MaxHeapSize              <span class="token operator">=</span> <span class="token number">255852544</span> <span class="token punctuation">(</span><span class="token number">244</span>.0MB<span class="token punctuation">)</span>
   NewSize                  <span class="token operator">=</span> <span class="token number">5570560</span> <span class="token punctuation">(</span><span class="token number">5</span>.3125MB<span class="token punctuation">)</span>
   MaxNewSize               <span class="token operator">=</span> <span class="token number">85262336</span> <span class="token punctuation">(</span><span class="token number">81</span>.3125MB<span class="token punctuation">)</span>
   OldSize                  <span class="token operator">=</span> <span class="token number">11206656</span> <span class="token punctuation">(</span><span class="token number">10</span>.6875MB<span class="token punctuation">)</span>
   NewRatio                 <span class="token operator">=</span> <span class="token number">2</span>
   SurvivorRatio            <span class="token operator">=</span> <span class="token number">8</span>
   MetaspaceSize            <span class="token operator">=</span> <span class="token number">21807104</span> <span class="token punctuation">(</span><span class="token number">20</span>.796875MB<span class="token punctuation">)</span>
   CompressedClassSpaceSize <span class="token operator">=</span> <span class="token number">1073741824</span> <span class="token punctuation">(</span><span class="token number">1024</span>.0MB<span class="token punctuation">)</span>
   MaxMetaspaceSize         <span class="token operator">=</span> <span class="token number">17592186044415</span> MB
   G1HeapRegionSize         <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">(</span><span class="token number">0</span>.0MB<span class="token punctuation">)</span>

Heap Usage:     <span class="token comment">#ç›‘æ§çš„è¯å…³æ³¨è¿™ä¸€åˆ—</span>
New Generation <span class="token punctuation">(</span>Eden + <span class="token number">1</span> Survivor Space<span class="token punctuation">)</span>:
   capacity <span class="token operator">=</span> <span class="token number">12779520</span> <span class="token punctuation">(</span><span class="token number">12</span>.1875MB<span class="token punctuation">)</span>
   used     <span class="token operator">=</span> <span class="token number">11689352</span> <span class="token punctuation">(</span><span class="token number">11</span>.147834777832031MB<span class="token punctuation">)</span>
   <span class="token function">free</span>     <span class="token operator">=</span> <span class="token number">1090168</span> <span class="token punctuation">(</span><span class="token number">1</span>.0396652221679688MB<span class="token punctuation">)</span>
   <span class="token number">91.46941356169872</span>% used
Eden Space:       <span class="token comment">#ç›‘æ§çš„è¯å…³æ³¨è¿™ä¸€åˆ—</span>
   capacity <span class="token operator">=</span> <span class="token number">11403264</span> <span class="token punctuation">(</span><span class="token number">10</span>.875MB<span class="token punctuation">)</span>
   used     <span class="token operator">=</span> <span class="token number">11059616</span> <span class="token punctuation">(</span><span class="token number">10</span>.547271728515625MB<span class="token punctuation">)</span>
   <span class="token function">free</span>     <span class="token operator">=</span> <span class="token number">343648</span> <span class="token punctuation">(</span><span class="token number">0</span>.327728271484375MB<span class="token punctuation">)</span>
   <span class="token number">96.98640669899426</span>% used
From Space:         <span class="token comment">#ç›‘æ§çš„è¯å…³æ³¨è¿™ä¸€åˆ—</span>
   capacity <span class="token operator">=</span> <span class="token number">1376256</span> <span class="token punctuation">(</span><span class="token number">1</span>.3125MB<span class="token punctuation">)</span>
   used     <span class="token operator">=</span> <span class="token number">629736</span> <span class="token punctuation">(</span><span class="token number">0</span>.6005630493164062MB<span class="token punctuation">)</span>
   <span class="token function">free</span>     <span class="token operator">=</span> <span class="token number">746520</span> <span class="token punctuation">(</span><span class="token number">0</span>.7119369506835938MB<span class="token punctuation">)</span>
   <span class="token number">45.75718470982143</span>% used
To Space:       <span class="token comment">#ç›‘æ§çš„è¯å…³æ³¨è¿™ä¸€åˆ—</span>
   capacity <span class="token operator">=</span> <span class="token number">1376256</span> <span class="token punctuation">(</span><span class="token number">1</span>.3125MB<span class="token punctuation">)</span>
   used     <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">(</span><span class="token number">0</span>.0MB<span class="token punctuation">)</span>
   <span class="token function">free</span>     <span class="token operator">=</span> <span class="token number">1376256</span> <span class="token punctuation">(</span><span class="token number">1</span>.3125MB<span class="token punctuation">)</span>
   <span class="token number">0.0</span>% used
tenured generation:       <span class="token comment">#ç›‘æ§çš„è¯å…³æ³¨è¿™ä¸€åˆ—</span>
   capacity <span class="token operator">=</span> <span class="token number">28164096</span> <span class="token punctuation">(</span><span class="token number">26</span>.859375MB<span class="token punctuation">)</span>
   used     <span class="token operator">=</span> <span class="token number">18313224</span> <span class="token punctuation">(</span><span class="token number">17</span>.46485137939453MB<span class="token punctuation">)</span>
   <span class="token function">free</span>     <span class="token operator">=</span> <span class="token number">9850872</span> <span class="token punctuation">(</span><span class="token number">9</span>.394523620605469MB<span class="token punctuation">)</span>
   <span class="token number">65.02329774760035</span>% used

<span class="token number">21146</span> interned Strings occupying <span class="token number">1882520</span> bytes.

<span class="token number">12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div></li> <li><p>jstatck å¯¼å‡ºjavaçš„è¿›ç¨‹ä¿¡æ¯ï¼Œå¸¸ç”¨äºjavaç¨‹åºæ•…éšœï¼Œéœ€è¦å¯¼å‡ºçº¿ç¨‹ä¿¡æ¯ä¸å¼€å‘ä¸€èµ·ç ”ç©¶</p></li> <li><p>æ ¼å¼ï¼šjstack -l pid</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#  jstack -l 7457</span>
<span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>tomcatæ•…éšœæ¡ˆä¾‹ï¼šç³»ç»Ÿè´Ÿè½½é«˜ï¼Œtomcatå ç”¨CPUè¾ƒé«˜</p> <ul><li>1.jps/top/htopç²¾ç¡®ç¡®å®šå“ªä¸ªjavaè¿›ç¨‹å¯¼è‡´</li> <li>2.jstackå¯¼å‡ºjavaçº¿ç¨‹</li> <li>3.catalina.outæ—¥å¿—åˆ†æ</li> <li>4.jmapå¯¼å‡ºjvmä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡matå·¥å…·è¿›è¡Œåˆ†æ</li></ul></li> <li><p>tomcatç›‘æ§</p></li> <li><p>è‡ªå®šä¹‰ç›‘æ§ï¼šç›´æ¥åœ¨tomcatæœåŠ¡å™¨ä¸Šå†™å¥½è„šæœ¬ï¼Œåœ¨zabbixé…ç½®æ–‡ä»¶å†™å¥½å°±è¡Œ</p></li> <li><p>é¦–å…ˆéœ€è¦åœ¨zabiixæœåŠ¡ç«¯å®‰è£…zabbix-java-gatewayç„¶ååœ¨tomcatæœåŠ¡å™¨å¼€å¯ç›‘æ§åŠŸèƒ½</p></li> <li><p>tomcatå¼€å¯jmxç›‘æ§åŠŸèƒ½</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment">#ä¿®æ”¹bin/catalina.sh</span>
<span class="token punctuation">[</span>root@localhost tomcat<span class="token punctuation">]</span><span class="token comment"># vim bin/catalina.sh</span>
<span class="token comment">#æ³¨æ„ä¸èƒ½åˆ†è¡Œå†™ä¼šæŠ¥é”™æ‰¾ä¸åˆ°å‘½ä»¤ï¼Œè¦å†™åœ¨ä¸€è¡Œä¸Š</span>
<span class="token assign-left variable">CATALINA_OPTS</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$CATALINA_OPTS</span>&quot;</span>
-Dcom.sun.management.jmxremote
-Dcom.sun.management.jmxremote.port<span class="token operator">=</span><span class="token number">12345</span>
-Dcom.sun.management.jmxremote.authenticate<span class="token operator">=</span>false
-Dcom.sun.management.jxmremote.ssl<span class="token operator">=</span>false
-Djava.rmi.server.hostname<span class="token operator">=</span><span class="token string">&quot;192.168.81.210&quot;</span>
<span class="token comment">#æ­£ç¡®å†™æ³•</span>
<span class="token assign-left variable">CATALINA_OPTS</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$CATALINA_OPTS</span> -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=12345 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jxmremote.ssl=false -Djava.rmi.server.hostname=192.168.81.210&quot;</span>


<span class="token comment">#è¯´æ˜</span>
<span class="token assign-left variable">CATALINA_OPTS</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$CATALINA_OPTS</span>&quot;</span>    <span class="token comment">#ä¿®æ”¹tomcatå¯åŠ¨å‚æ•°</span>
-Dcom.sun.management.jmxremote    <span class="token comment">#å¼€å¯tomcatè¿œç¨‹ç®¡ç†åŠŸèƒ½</span>
-Dcom.sun.management.jmxremote.port<span class="token operator">=</span><span class="token number">12345</span> <span class="token comment">#è¿œç¨‹ç®¡ç†åŠŸèƒ½ï¼Œé™¤äº†12345ç«¯å£ï¼Œè¿˜ä¼šç”Ÿæˆ2ä¸ªéšæœºç«¯å£ï¼Œæˆ‘ä»¬å¯ä»¥å¼€æ”¾æ‰€æœ‰ç«¯å£</span>
Dcom.sun.management.jmxremote.authenticat<span class="token operator">=</span>false     <span class="token comment">#æ˜¯å¦åœ¨ç›‘æ§æ—¶éœ€è¦è®¤è¯</span>
-Dcom.sun.management.jmxremote.ssl<span class="token operator">=</span>false  <span class="token comment">#æ˜¯å¦å¼€å¯sslè¿æ¥</span>
-Djava.rmi.server.hostname<span class="token operator">=</span><span class="token string">&quot;192.168.81.210&quot;</span>   <span class="token comment">#è®¾ç½®tomcatæ‰€åœ¨æœåŠ¡å™¨çš„ip</span>

é…ç½®å®Œæˆåé‡å¯tomcatå³å¯
ä½¿ç”¨pså‘½ä»¤å¯ä»¥çœ‹åˆ°è¾“å‡ºçš„ä¿¡æ¯å¤šäº†æˆ‘ä»¬å†™å…¥çš„å‡ è¡Œ
<span class="token punctuation">[</span>root@localhost tomcat<span class="token punctuation">]</span><span class="token comment"># ps aux | grep java</span>
root      <span class="token number">17786</span>  <span class="token number">5.7</span> <span class="token number">10.6</span> <span class="token number">2306592</span> <span class="token number">105860</span> pts/1  Sl   <span class="token number">15</span>:52   <span class="token number">0</span>:08 /application/jdk/bin/java
-Djava.util.logging.config.file<span class="token operator">=</span>/application/tomcat/conf/logging.properties 
-Djava.util.logging.manager<span class="token operator">=</span>org.apache.juli.ClassLoaderLogManager 
-Djdk.tls.ephemeralDHKeySize<span class="token operator">=</span><span class="token number">2048</span> 
-Djava.protocol.handler.pkgs<span class="token operator">=</span>org.apache.catalina.webresources
-Dorg.apache.catalina.security.SecurityListener.UMASK<span class="token operator">=</span>0027
-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port<span class="token operator">=</span><span class="token number">12345</span>
-Dcom.sun.management.jmxremote.authenticate<span class="token operator">=</span>false 
-Dcom.sun.management.jxmremote.ssl<span class="token operator">=</span>false 
-Djava.rmi.server.hostname<span class="token operator">=</span><span class="token number">192.168</span>.81.210 
-Dignore.endorsed.dirs<span class="token operator">=</span> 
-classpath /application/tomcat/bin/bootstrap.jar:/application/tomcat/bin/tomcat-juli.jar 
-Dcatalina.base<span class="token operator">=</span>/application/tomcat 
-Dcatalina.home<span class="token operator">=</span>/application/tomcat 
-Djava.io.tmpdir<span class="token operator">=</span>/application/tomcat/temp org.apache.catalina.startup.Bootstrap start

ä½¿ç”¨ss/netstat å‘½ä»¤å¯ä»¥çœ‹åˆ°å¤šå‡ºå•¦çš„ä¸‰ä¸ªç«¯å£
<span class="token punctuation">[</span>root@localhost tomcat<span class="token punctuation">]</span><span class="token comment"># ss -lnptu | grep java</span>
tcp    LISTEN     <span class="token number">0</span>      <span class="token number">100</span>      :::8080                 :::*                   users:<span class="token variable"><span class="token punctuation">((</span>&quot;java&quot;<span class="token punctuation">,</span>pid<span class="token operator">=</span><span class="token number">17786</span><span class="token punctuation">,</span>fd<span class="token operator">=</span><span class="token number">56</span><span class="token punctuation">))</span></span>
<span class="token comment">#æˆ‘ä»¬åˆ¶å®šçš„</span>
tcp    LISTEN     <span class="token number">0</span>      <span class="token number">50</span>       :::12345                :::*                   users:<span class="token variable"><span class="token punctuation">((</span>&quot;java&quot;<span class="token punctuation">,</span>pid<span class="token operator">=</span><span class="token number">17786</span><span class="token punctuation">,</span>fd<span class="token operator">=</span><span class="token number">22</span><span class="token punctuation">))</span></span>
<span class="token comment">#éšæœºçš„1</span>
tcp    LISTEN     <span class="token number">0</span>      <span class="token number">50</span>       :::46272                :::*                   users:<span class="token variable"><span class="token punctuation">((</span>&quot;java&quot;<span class="token punctuation">,</span>pid<span class="token operator">=</span><span class="token number">17786</span><span class="token punctuation">,</span>fd<span class="token operator">=</span><span class="token number">21</span><span class="token punctuation">))</span></span>
<span class="token comment">#éšæœºçš„2</span>
tcp    LISTEN     <span class="token number">0</span>      <span class="token number">50</span>       :::46081                :::*                   users:<span class="token variable"><span class="token punctuation">((</span>&quot;java&quot;<span class="token punctuation">,</span>pid<span class="token operator">=</span><span class="token number">17786</span><span class="token punctuation">,</span>fd<span class="token operator">=</span><span class="token number">24</span><span class="token punctuation">))</span></span>
tcp    LISTEN     <span class="token number">0</span>      <span class="token number">1</span>      ::ffff:127.0.0.1:8005                 :::*                   users:<span class="token variable"><span class="token punctuation">((</span>&quot;java&quot;<span class="token punctuation">,</span>pid<span class="token operator">=</span><span class="token number">17786</span><span class="token punctuation">,</span>fd<span class="token operator">=</span><span class="token number">65</span><span class="token punctuation">))</span></span>


<span class="token number">12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div></li> <li><p>å¯ä»¥ä½¿ç”¨jsconsoleè¿›è¡Œæµ‹è¯•</p></li></ul> <h2 id="_11-tomcatå®‰å…¨ä¼˜åŒ–"><a href="#_11-tomcatå®‰å…¨ä¼˜åŒ–" class="header-anchor">#</a> 11.Tomcatå®‰å…¨ä¼˜åŒ–</h2> <p>tomcatå®‰å…¨ç®¡ç†è§„èŒƒ</p> <ul><li>ä¿®æ”¹8005ç«¯å£çš„æš—å·</li> <li>ä¿®æ”¹8009ç«¯å£</li> <li>ç¦ç”¨ç®¡ç†ç«¯</li> <li>é™æƒå¯åŠ¨ï¼Œtomcatä¸€èˆ¬ä»¥æ™®é€šç”¨æˆ·è¿›è¡Œç®¡ç†</li> <li>å…³é—­æ–‡ä»¶åˆ—è¡¨åŠŸèƒ½</li> <li>ç‰ˆæœ¬ä¿¡æ¯éšè—ï¼ŒtomcatæŠ¥é”™åä¼šæœ‰ç‰ˆæœ¬æç¤ºï¼Œå®šä¹‰ä¸€ä¸ªerror-code</li> <li>server headeré‡å†™ï¼Œä¿®æ”¹httpå“åº”å¤´ä¸­çš„æœåŠ¡ç«¯åç§°</li> <li>è®¾ç½®è®¿é—®é™åˆ¶</li> <li>è„šæœ¬æƒé™è®¾ç½®</li> <li>æ—¥å¿—è®¾ç½®</li></ul> <h2 id="_12-tomcatæ€»ç»“"><a href="#_12-tomcatæ€»ç»“" class="header-anchor">#</a> 12.Tomcatæ€»ç»“</h2> <ul><li>tomcatæ•…éšœæ¡ˆä¾‹</li> <li>tomcatå®‰å…¨ä¼˜åŒ–</li> <li>tomcatç›®å½• é…ç½®</li> <li>å¤šå®ä¾‹</li> <li>ç›‘æ§</li></ul></div> <footer class="page-edit" style="display:none;"><div class="edit-link"><a href="https://github.com/AGou-ops/myDocsv2/edit/master/docs/post/Web Servers/Jvm &amp; Tomcat/Tomcatä¸­é—´ä»¶æ–¹æ–¹é¢é¢å‚¨å¤‡çŸ¥è¯†.md" target="_blank" rel="noopener noreferrer">åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µï¼</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°: </span> <span class="time">2022/06/01, 14:44:58</span></div></footer> <!----> <!----> <div class="article-list" data-v-2af88190><div class="article-title" data-v-2af88190><a href="/myDocsv2/timeline/" class="iconfont icon-shizhong" data-v-2af88190>æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper" data-v-2af88190><dl data-v-2af88190><dd data-v-2af88190>01</dd> <dt data-v-2af88190><a href="/myDocsv2/timeline/2022-03-09.html" data-v-2af88190><div data-v-2af88190>ç”Ÿå‘½çŸ­æš‚ï¼ŒçŠ¹å¦‚éœ²ç æ¶ˆæ•£ï¼Œäººä»¬åœ¨å¥”æ³¢ä¸­å¯»æ±‚ç­”æ¡ˆã€‚</div></a> <span data-v-2af88190>03-09</span></dt></dl><dl data-v-2af88190><dd data-v-2af88190>02</dd> <dt data-v-2af88190><a href="/myDocsv2/timeline/2018-05-06.html" data-v-2af88190><div data-v-2af88190>äººç”Ÿå¤©åœ°ä¹‹é—´ï¼Œè‹¥ç™½é©¹è¿‡éš™ï¼Œå¿½ç„¶è€Œå·²ã€‚</div></a> <span data-v-2af88190>05-06</span></dt></dl></div> <div data-v-2af88190><a href="/myDocsv2/timeline/" class="article-more" data-v-2af88190>æ›´å¤šæ–‡ç«  &gt;</a></div></div></main> <!----> <div class="comments-wrapper" data-v-584a622c><div class="valine-wrapper"><div id="valine"></div></div></div></div></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-44bd5a18 data-v-44bd5a18><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-44bd5a18><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-44bd5a18></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-44bd5a18></path></svg></div><!----><div class="kanbanniang" data-v-5775ee02><div class="banniang-container" style="display:;" data-v-5775ee02><div class="messageBox" style="right:68px;bottom:190px;display:none;" data-v-5775ee02>
      æ¬¢è¿æ¥åˆ° AGou's Docs-v2
    </div> <div class="operation" style="right:90px;bottom:40px;display:;" data-v-5775ee02><i class="kbnfont kbn-ban-home ban-home" data-v-5775ee02></i> <i class="kbnfont kbn-ban-message message" data-v-5775ee02></i> <i class="kbnfont kbn-ban-close close" data-v-5775ee02></i> <a target="_blank" href="https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html" data-v-5775ee02><i class="kbnfont kbn-ban-info info" data-v-5775ee02></i></a> <i class="kbnfont kbn-ban-theme skin" style="display:;" data-v-5775ee02></i></div> <canvas id="banniang" width="150" height="220" class="live2d" style="right:90px;bottom:-20px;opacity:0.9;" data-v-5775ee02></canvas></div> <div class="showBanNiang" style="display:none;" data-v-5775ee02>
    çœ‹æ¿å¨˜
  </div></div><div></div><!----><div data-v-3338c3f8><div class="DetailsOpenFlag" style="right:1rem;bottom:9rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;font-size:14px;font-weight:500;display:none;" data-v-3338c3f8>
 å±•å¼€

</div></div></div></div>
    <script src="/myDocsv2/assets/js/app.792c833e.js" defer></script><script src="/myDocsv2/assets/js/5.dd197eb6.js" defer></script><script src="/myDocsv2/assets/js/1.3bd7010a.js" defer></script><script src="/myDocsv2/assets/js/2.0c757b52.js" defer></script><script src="/myDocsv2/assets/js/298.9d16d98c.js" defer></script><script src="/myDocsv2/assets/js/17.ce9a229a.js" defer></script>
  </body>
</html>
