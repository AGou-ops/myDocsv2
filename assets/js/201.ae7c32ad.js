(window.webpackJsonp=window.webpackJsonp||[]).push([[201],{833:function(s,a,t){"use strict";t.r(a);var e=t(6),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"ceph-manager-dashboar"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ceph-manager-dashboar"}},[s._v("#")]),s._v(" Ceph Manager Dashboar")]),s._v(" "),t("h2",{attrs:{id:"ceph-manager-dashboard-简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ceph-manager-dashboard-简介"}},[s._v("#")]),s._v(" Ceph Manager Dashboard 简介")]),s._v(" "),t("p",[s._v("Ceph仪表板是基于Web的内置Ceph管理和监视应用程序，用于管理集群的各个方面和对象。它作为Ceph Manager守护程序模块实现。")]),s._v(" "),t("p",[s._v("Ceph "),t("code",[s._v("luminous")]),s._v(" 版本随附的原始Ceph仪表板最初是一个简单的只读视图，可查看Ceph集群的各种运行时信息和性能数据。 它使用了非常简单的架构来实现最初的目标。 但是，对于添加更多基于Web的管理功能的需求不断增长，以使更喜欢使用WebUI而不是使用命令行的用户更易于管理Ceph。新的Ceph仪表板模块替代了之前的模块，并向Ceph Manager添加了一个内置的基于Web的监视和管理应用程序。 这个新插件的架构和功能源自openATTIC Ceph管理和监视工具，并受其启发。 SUSE openATTIC背后的团队积极推动开发，并获得了Red Hat等公司和Ceph社区其他成员的大力支持。")]),s._v(" "),t("p",[s._v("仪表板模块的后端代码使用CherryPy框架和自定义REST API实现。 WebUI实现基于Angular / TypeScript，合并了来自原始仪表板的功能，并添加了最初为独立版本的openATTIC开发的新功能。 Ceph仪表板模块被实现为Web应用程序，它使用ceph-mgr托管的Web服务器可视化有关Ceph群集的信息和统计信息。")]),s._v(" "),t("h2",{attrs:{id:"dashboard安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dashboard安装"}},[s._v("#")]),s._v(" "),t("code",[s._v("Dashboard")]),s._v("安装")]),s._v(" "),t("ol",[t("li",[s._v("在线安装程序包：")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y http://mirrors.aliyun.com/ceph/rpm-nautilus/el7/noarch/ceph-grafana-dashboards-14.2.9-0.el7.noarch.rpm\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("启用"),t("code",[s._v("Ceph Mgr Dashboard")]),s._v("模块：")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ceph mgr module "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" dashboard\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ceph mgr module disable dashboard\t\t# 禁用")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看模块是否成功装载")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@stor1 ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("# ceph mgr module "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -A "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" -B "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" dashboard\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"enabled_modules"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dashboard"')]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"iostat"')]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"restful"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("ol",{attrs:{start:"3"}},[t("li",[s._v("生成并安装自签名证书（默认情况下，与仪表板的所有HTTP连接均使用SSL / TLS保护）：")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ceph dashboard create-self-signed-cert\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("其他详细参考：https://docs.ceph.com/docs/nautilus/mgr/dashboard/#ssl-tls-support")]),s._v(" "),t("ol",{attrs:{start:"4"}},[t("li",[t("p",[s._v("自定义访问"),t("code",[s._v("IP")]),s._v("及"),t("code",[s._v("PORT")]),s._v("（可选操作）：https://docs.ceph.com/docs/nautilus/mgr/dashboard/#host-name-and-port")])]),s._v(" "),t("li",[t("p",[s._v("为"),t("code",[s._v("Dashboard")]),s._v("创建用户：")])])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ceph dashboard ac-user-create <username> <password> administrator")]),s._v("\nceph dashboard ac-user-create suofeiya suofeiya administrator\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ol",{attrs:{start:"6"}},[t("li",[s._v("查看"),t("code",[s._v("Dashboard")]),s._v("状态：")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@stor1 ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("# ceph mgr services \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dashboard"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://stor1:8443/"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("最后打开浏览器访问对应地址 https://172.16.1.128:8443 ，需注意"),t("strong",[s._v("协议为 HTTPS")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://agou-images.oss-cn-qingdao.aliyuncs.com/blog-images/ceph-dashboard/ceph-dashboard-1.png",alt:"",title:"ceph-dashboard"}})]),s._v(" "),t("h2",{attrs:{id:"其他"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[s._v("#")]),s._v(" 其他")]),s._v(" "),t("p",[t("code",[s._v("ansible")]),s._v("、"),t("code",[s._v("prometheus")]),s._v("、"),t("code",[s._v("zabbix")]),s._v("支持参考官方文档。")]),s._v(" "),t("h2",{attrs:{id:"参考链接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[s._v("#")]),s._v(" 参考链接")]),s._v(" "),t("ul",[t("li",[s._v("Ceph Mgr Dashboard Documentation: https://docs.ceph.com/docs/nautilus/mgr/dashboard/")])])])}),[],!1,null,null,null);a.default=r.exports}}]);