(window.webpackJsonp=window.webpackJsonp||[]).push([[296],{929:function(t,a,s){"use strict";s.r(a);var r=s(6),e=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_1-tomcat安装规范"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-tomcat安装规范"}},[t._v("#")]),t._v(" 1. Tomcat安装规范")]),t._v(" "),s("p",[t._v("注：所有线上运行tomcat必须严格安装本标准执行。")]),t._v(" "),s("h2",{attrs:{id:"_1-1-tomcat用户设置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-tomcat用户设置"}},[t._v("#")]),t._v(" 1.1 tomcat用户设置")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("tomcat@tuan-node1 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useradd")]),t._v(" -d /tomcat -u "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("501")]),t._v(" tomcat\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("tomcat@tuan-node1 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("passwd")]),t._v(" tomcat\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("tomcat@tuan-node1 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("su")]),t._v(" - tomcat\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("tomcat@tuan-node1 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("id")]),t._v(" tomcat\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("uid")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("501")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tomcat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("gid")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("501")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tomcat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("groups")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("501")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tomcat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("tomcat@tuan-node1 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("pwd")]),t._v("\n/tomcat\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("h2",{attrs:{id:"_1-2-tomcat安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-tomcat安装"}},[t._v("#")]),t._v(" 1.2 tomcat安装")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("tomcat@tuan-node1 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" ftp://10.6.9.111/soft/apache-tomcat-6.0.35.tgz\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("tomcat@tuan-node1 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" ftp://10.6.9.111/soft/apache-tomcat-6.0.35.tgz.md5\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("tomcat@tuan-node1 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ md5sum -c apache-tomcat-6.0.35.tgz.md5\napache-tomcat-6.0.35.tar.gz: OK\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("tomcat@tuan-node1 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" ftp://10.6.9.111/soft/jdk1.6.0_22.tgz\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("tomcat@tuan-node1 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" ftp://10.6.9.111/soft/jdk1.6.0_22.tgz.md5\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("tomcat@tuan-node1 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ md5sum -c jdk1.6.0_22.tgz.md5\njdk1.6.0_22.tgz: OK\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("tomcat@tuan-node1 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" xzf apache-tomcat-6.0.35.tgz\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("tomcat@tuan-node1 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" xzf jdk1.6.0_22.tgz\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h2",{attrs:{id:"_1-3-tomcat配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-tomcat配置"}},[t._v("#")]),t._v(" 1.3 tomcat配置")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("tomcat@tuan-node1 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" .bash_profile 增加以下内容：\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("JAVA_HOME")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/tomcat/jdk1.6.0_22\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("PATH")])]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$JAVA_HOME")]),t._v("/bin:"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$JAVA_HOME")]),t._v("/jre/bin:"),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$PATH")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CLASSPATH")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("."),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CLASSPATH")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$JAVA_HOME")]),t._v("/lib:"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$JAVA_HOME")]),t._v("/jre/lib:"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$JAVA_HOME")]),t._v("/lib/tools.jar\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("TOMCAT_HOME")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/tomcat/apache-tomcat-6.0.35\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("tomcat@tuan-node1 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$source")]),t._v(" .bash_profile\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("tomcat@tuan-node1 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ java -version\njava version "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.6.0_26"')]),t._v("\nJava"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SE RuntimeEnvironment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("build "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.6")]),t._v(".0_26-b03"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nJavaHotSpot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),t._v("-BitServer VM "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("build "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20.1")]),t._v("-b02, mixed mode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h2",{attrs:{id:"_1-4-应用程序配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-应用程序配置"}},[t._v("#")]),t._v(" 1.4 应用程序配置")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("tomcat@tuan-node1 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" webapps\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("将应用程序放置在/tomcat/目录下。建立相应的目录如团购wmw_tuan，静态化wmw_static，并修改server.xml，对应好目录即可。")]),t._v(" "),s("h1",{attrs:{id:"_2-安全设置规范"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-安全设置规范"}},[t._v("#")]),t._v(" 2 . 安全设置规范")]),t._v(" "),s("h3",{attrs:{id:"_2-1-telnet管理端口保护-强制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-telnet管理端口保护-强制"}},[t._v("#")]),t._v(" 2.1 telnet管理端口保护（强制）")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[s("strong",[t._v("类别")])]),t._v(" "),s("th",[s("strong",[t._v("配置内容及说明")])]),t._v(" "),s("th",[s("strong",[t._v("标准配置")])]),t._v(" "),s("th",[s("strong",[t._v("备注")])])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("telnet管理端口保护")]),t._v(" "),s("td",[t._v("1.修改默认的8005管理端口为不易猜测的端口（大于1024）；2.修改SHUTDOWN指令为其他字符串；")]),t._v(" "),s("td",[s("Server",{attrs:{port:"8527",shutdown:"dangerous"}})],1),t._v(" "),s("td",[t._v("1.以上配置项的配置内容只是建议配置，可以按照服务实际情况进行合理配置，但要求端口配置在"),s("strong",[t._v("8000~8999")]),t._v("之间；")])])])]),t._v(" "),s("h3",{attrs:{id:"_2-2-ajp连接端口保护-推荐"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-ajp连接端口保护-推荐"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2.2 ajp")]),t._v("连接端口保护（推荐）")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[s("strong",[t._v("类别")])]),t._v(" "),s("th",[s("strong",[t._v("配置内容及说明")])]),t._v(" "),s("th",[s("strong",[t._v("标准配置")])]),t._v(" "),s("th",[s("strong",[t._v("备注")])])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Ajp 连接端口保护")]),t._v(" "),s("td",[t._v("1.修改默认的ajp 8009端口为不易冲突的大于1024端口；2.通过iptables规则限制ajp端口访问的权限仅为线上机器；")]),t._v(" "),s("td",[t._v('<Connector port="8528"protocol="AJP/1.3" />')]),t._v(" "),s("td",[t._v("以上配置项的配置内容仅为建议配置，请按照服务实际情况进行合理配置，但要求端口配置在"),s("strong",[t._v("8000~8999")]),t._v("之间；；保护此端口的目的在于防止线下的测试流量被mod_jk转发至线上tomcat服务器；")])])])]),t._v(" "),s("h3",{attrs:{id:"_2-3-禁用管理端-强制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-禁用管理端-强制"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2.3")]),t._v(" "),s("strong",[t._v("禁用管理端（强制）")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[s("strong",[t._v("类别")])]),t._v(" "),s("th",[s("strong",[t._v("配置内容及说明")])]),t._v(" "),s("th",[s("strong",[t._v("标准配置")])]),t._v(" "),s("th",[s("strong",[t._v("备注")])])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("禁用管理端")]),t._v(" "),s("td",[t._v("1. 删除默认的{Tomcat安装目录}/conf/tomcat-users.xml文件，重启tomcat后将会自动生成新的文件；2. 删除{Tomcat安装目录}/webapps下默认的所有目录和文件；3.将tomcat 应用根目录配置为tomcat安装目录以外的目录；")]),t._v(" "),s("td",[s("Context",{attrs:{path:"",docBase:"/home/work/local/tomcat_webapps",debug:"0",reloadable:"false",crossContext:"true"}})],1),t._v(" "),s("td",[t._v("对于前段web模块，Tomcat管理端属于tomcat的高危安全隐患，一旦被攻破，黑客通过上传web shell的方式将会直接取得服务器的控制权，后果极其严重；")])])])]),t._v(" "),s("h3",{attrs:{id:"_2-4-降权启动-强制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-降权启动-强制"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2.4")]),t._v(" "),s("strong",[t._v("降权启动（强制）")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[s("strong",[t._v("类别")])]),t._v(" "),s("th",[s("strong",[t._v("配置内容及说明")])]),t._v(" "),s("th",[s("strong",[t._v("标准配置")])]),t._v(" "),s("th",[s("strong",[t._v("备注")])])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("降权启动")]),t._v(" "),s("td",[t._v("1.tomcat启动用户权限必须为非root权限，尽量降低tomcat启动用户的目录访问权限；2.如需直接对外使用80端口，可通过普通账号启动后，配置iptables规则进行转发；")]),t._v(" "),s("td",[t._v("-")]),t._v(" "),s("td",[t._v("避免一旦tomcat 服务被入侵，黑客直接获取高级用户权限危害整个server的安全；")])])])]),t._v(" "),s("h3",{attrs:{id:"_2-5-文件列表访问控制-强制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-文件列表访问控制-强制"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2.5")]),t._v(" "),s("strong",[t._v("文件列表访问控制（强制）")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[s("strong",[t._v("类别")])]),t._v(" "),s("th",[s("strong",[t._v("配置内容及说明")])]),t._v(" "),s("th",[s("strong",[t._v("标准配置")])]),t._v(" "),s("th",[s("strong",[t._v("备注")])])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("文件列表访问控制")]),t._v(" "),s("td",[t._v("1.conf/web.xml文件中default部分listings的配置必须为false；")]),t._v(" "),s("td",[s("init-param",[s("param-name",[t._v("listings")]),s("param-value",[t._v("false")])],1)],1),t._v(" "),s("td",[t._v("false为不列出目录文件，true为允许列出，默认为false；")])])])]),t._v(" "),s("h3",{attrs:{id:"_2-6-版本信息隐藏-强制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-版本信息隐藏-强制"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2.6")]),t._v(" "),s("strong",[t._v("版本信息隐藏（强制）")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[s("strong",[t._v("类别")])]),t._v(" "),s("th",[s("strong",[t._v("配置内容及说明")])]),t._v(" "),s("th",[s("strong",[t._v("标准配置")])]),t._v(" "),s("th",[s("strong",[t._v("备注")])])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("版本信息隐藏")]),t._v(" "),s("td",[t._v("1.修改conf/web.xml，重定向403、404以及500等错误到指定的错误页面；2.也可以通过修改应用程序目录下的WEB-INF/web.xml下的配置进行错误页面的重定向；")]),t._v(" "),s("td",[s("error-page",[s("error-code",[t._v("403")]),s("location",[t._v("/forbidden.jsp")])],1),s("error-page",[s("error-code",[t._v("404")]),s("location",[t._v("/notfound.jsp")])],1),s("error-page",[s("error-code",[t._v("500")]),s("location",[t._v("/systembusy.jsp")])],1)],1),t._v(" "),s("td",[t._v("在配置中对一些常见错误进行重定向，避免当出现错误时tomcat默认显示的错误页面暴露服务器和版本信息；必须确保程序根目录下的错误页面已经存在；")])])])]),t._v(" "),s("p",[s("strong",[t._v("注意：")]),t._v(" "),s("strong",[t._v("此外的错误页面定义，每个项目工程目录下都要各自建立自己的相应的错误页面。")])]),t._v(" "),s("h3",{attrs:{id:"_2-7-server-header-重写-推荐"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-server-header-重写-推荐"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2.7 Server header****重写（推荐）")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[s("strong",[t._v("类别")])]),t._v(" "),s("th",[s("strong",[t._v("配置内容及说明")])]),t._v(" "),s("th",[s("strong",[t._v("标准配置")])]),t._v(" "),s("th",[s("strong",[t._v("备注")])])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Server header重写")]),t._v(" "),s("td",[t._v("在HTTP Connector配置中加入server的配置；")]),t._v(" "),s("td",[t._v('server="webserver"')]),t._v(" "),s("td",[t._v("当tomcat HTTP端口直接提供web服务时此配置生效，加入此配置，将会替换http 响应Server header部分的默认配置，默认是Apache-Coyote/1.1")])])])]),t._v(" "),s("h3",{attrs:{id:"_2-8-访问限制-可选"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-访问限制-可选"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2.8")]),t._v(" "),s("strong",[t._v("访问限制（可选）")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[s("strong",[t._v("类别")])]),t._v(" "),s("th",[s("strong",[t._v("配置内容及说明")])]),t._v(" "),s("th",[s("strong",[t._v("标准配置或操作")])]),t._v(" "),s("th",[s("strong",[t._v("备注")])])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("访问限制")]),t._v(" "),s("td",[t._v("通过配置，限定访问的ip来源")]),t._v(" "),s("td",[s("Context",{attrs:{path:"",docBase:"/home/work/tomcat",debug:"0",reloadable:"false",crossContext:"true"}},[s("Valve",{attrs:{className:"org.apache.catalina.valves.RemoteAddrValve",allow:"61.148.18.138,61.135.165.\\*",deny:"\\*.\\*.\\*.\\*"}})],1)],1),t._v(" "),s("td",[t._v("通过配置信任ip的白名单，拒绝非白名单ip的访问，此配置主要是针对高保密级别的系统，一般产品线不需要；")])])])]),t._v(" "),s("p",[s("strong",[t._v("注意：Tomcat6和Tomcat8此处的区别，下面是tomcat8的写法")])]),t._v(" "),s("p",[s("code",[t._v('<Valve className="org.apache.catalina.valves.RemoteAddrValve" allow="192\\.168\\.234\\.\\d+|127\\.\\d+\\.\\d+\\.\\d+|::1|0:0:0:0:0:0:0:1"/>')]),t._v("\n允许本地回环地址及192.168.234.0网段访问")]),t._v(" "),s("h3",{attrs:{id:"_2-9-起停脚本权限回收-推荐"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-起停脚本权限回收-推荐"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2.9")]),t._v(" "),s("strong",[t._v("起停脚本权限回收（推荐）")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[s("strong",[t._v("类别")])]),t._v(" "),s("th",[s("strong",[t._v("配置内容及说明")])]),t._v(" "),s("th",[s("strong",[t._v("标准配置或操作")])]),t._v(" "),s("th",[s("strong",[t._v("备注")])])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("起停脚本权限回收")]),t._v(" "),s("td",[t._v("去除其他用户对Tomcat的bin目录下shutdown.sh、startup.sh、catalina.sh的可执行权限；")]),t._v(" "),s("td",[t._v("chmod -R 744 tomcat/bin/*")]),t._v(" "),s("td",[t._v("防止其他用户有起停线上Tomcat的权限；")])])])]),t._v(" "),s("h3",{attrs:{id:"_2-10-访问日志格式规范-推荐"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-访问日志格式规范-推荐"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2.10")]),t._v(" "),s("strong",[t._v("访问日志格式规范（推荐）")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[s("strong",[t._v("类别")])]),t._v(" "),s("th",[s("strong",[t._v("配置内容及说明")])]),t._v(" "),s("th",[s("strong",[t._v("标准配置或操作")])]),t._v(" "),s("th",[s("strong",[t._v("备注")])])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("访问日志格式规范")]),t._v(" "),s("td",[t._v("开启Tomcat默认访问日志中的Referer和User-Agent记录")]),t._v(" "),s("td",[t._v('<Valve className="org.apache.catalina.valves.AccessLogValve"directory="logs" prefix="localhost_access_log." suffix=".txt"pattern="%{X-Forwarded-For}i %l %u %t %r %s %b %{Referer}i %{User-Agent}i %D" resolveHosts="false"/>')]),t._v(" "),s("td",[t._v("开启Referer和User-Agent是为了一旦出现安全问题能够更好的根据日志进行问题排查；X-Forwarded-For用于nginx作为反向代理服务器时，获取客户端真实的IP")])])])]),t._v(" "),s("h3",{attrs:{id:"_2-11-屏蔽dns查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-11-屏蔽dns查询"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2.11 屏蔽DNS查询")])]),t._v(" "),s("p",[t._v("enableLookups：调用request、getRemoteHost()执行DNS查询，以返回远程主机的主机名，如果设置为false，则直接返回IP地址。")]),t._v(" "),s("p",[s("code",[t._v('<Connector enableLookups="false"/>')])]),t._v(" "),s("h3",{attrs:{id:"_2-12-压缩管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-12-压缩管理"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2.12 压缩管理")])]),t._v(" "),s("p",[t._v("tomcat作为一个应用服务器，也是支持 gzip 压缩功能的。我们可以在 server.xml 配置文件中的 Connector 节点中配置如下参数，来实现对指定资源类型进行压缩。 "),s("code",[t._v("前端使用nginx作为反向代理，一般不需要启用tomcat压缩功能。")])]),t._v(" "),s("p",[s("strong",[s("code",[t._v('compression=``"on"')]),t._v(" "),s("code",[t._v("# 打开压缩功能")])])]),t._v(" "),s("p",[s("strong",[s("code",[t._v('compressionMinSize=``"50"')]),t._v(" "),s("code",[t._v("# 启用压缩的输出内容大小，默认为2KB")])])]),t._v(" "),s("p",[s("strong",[s("code",[t._v('noCompressionUserAgents=``"gozilla, traviata"')]),t._v(" "),s("code",[t._v("# 对于以下的浏览器，不启用压缩")])])]),t._v(" "),s("p",[s("strong",[s("code",[t._v('compressableMimeType=``"text/html,text/xml,text/javascript,text/css,text/plain"``# 哪些资源类型需要压缩')])])]),t._v(" "),s("h1",{attrs:{id:"_3-附录-建议配置及标准执行方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-附录-建议配置及标准执行方案"}},[t._v("#")]),t._v(" 3. 附录：建议配置及标准执行方案")]),t._v(" "),s("h2",{attrs:{id:"_3-1-配置部分-catalina-home-conf-server-xml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-配置部分-catalina-home-conf-server-xml"}},[t._v("#")]),t._v(" 3.1 配置部分（${ CATALINA_HOME }conf/server.xml）")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Server "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8527"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("shutdown")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" dangerous"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("--Define a non-SSL HTTP/1.1Connector on port "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Connector "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8080"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("server")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webserver"')]),t._v("/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("--Define an AJP "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(".3Connector on port "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8528")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("--Define an accesslog --"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Valve "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("className")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"org.apache.catalina.valves.AccessLogValve"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("directory")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"logs"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("prefix")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"localhost_access_log."')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("suffix")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('".txt"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("pattern")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%h %l %u %t %r %s %b %{Referer}i %{User-Agent}i %D"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("resolveHosts")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v("/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Connector "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8528"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("protocol")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AJP/1.3"')]),t._v("/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Context "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("docBase")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home/work/local/tomcat_webapps"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("debug")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("reloadable")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("crossContext")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"true"')]),t._v("/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])]),s("h2",{attrs:{id:"_3-2-配置部分-catalina-home-conf-web-xml或者web-inf-web-xml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-配置部分-catalina-home-conf-web-xml或者web-inf-web-xml"}},[t._v("#")]),t._v(" 3.2 配置部分（${ CATALINA_HOME }conf/web.xml或者WEB-INF/web.xml）")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("init-param"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("param-name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("listings"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/param-name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("param-value"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("false"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/param-value"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/init-param"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("error-page"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("error-code"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("3")]),t._v("<")]),t._v("/error-code"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("location"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/forbidden.jsp"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/location"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/error-page"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("error-page"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("error-code"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("4")]),t._v("<")]),t._v("/error-code"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("location"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/notfound.jsp"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/location"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/error-page"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("error-page"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("error-code"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("0")]),t._v("<")]),t._v("/error-code"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("location"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/systembusy.jsp"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/location"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/error-page"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br")])]),s("h2",{attrs:{id:"_3-3-删除如下tomcat的默认目录和默认文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-删除如下tomcat的默认目录和默认文件"}},[t._v("#")]),t._v(" 3.3 删除如下tomcat的默认目录和默认文件")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("tomcat/webapps/*\n\ntomcat/conf/tomcat-user.xml\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h2",{attrs:{id:"_3-4-去除其他用户对tomcat-起停脚本的执行权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-去除其他用户对tomcat-起停脚本的执行权限"}},[t._v("#")]),t._v(" 3.4 去除其他用户对tomcat 起停脚本的执行权限")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("744")]),t._v(" –R tomcat/bin/*\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("blockquote",[s("p",[t._v("转载：该文章来源于网络，仅做修改。")])])])}),[],!1,null,null,null);a.default=e.exports}}]);