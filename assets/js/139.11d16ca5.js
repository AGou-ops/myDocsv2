(window.webpackJsonp=window.webpackJsonp||[]).push([[139],{771:function(s,a,n){"use strict";n.r(a);var t=n(6),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"redis-cluster"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redis-cluster"}},[s._v("#")]),s._v(" Redis Cluster")]),s._v(" "),n("h2",{attrs:{id:"redis-cluster-集群概念"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redis-cluster-集群概念"}},[s._v("#")]),s._v(" Redis-Cluster 集群概念")]),s._v(" "),n("p",[s._v("（1）由多个Redis服务器组成的分布式网络服务集群；")]),s._v(" "),n("p",[s._v("（2）集群之中有多个Master主节点，每一个主节点都可读可写；")]),s._v(" "),n("p",[s._v("（3）节点之间会互相通信，两两相连；")]),s._v(" "),n("p",[s._v("（4）Redis集群无中心节点。")]),s._v(" "),n("h3",{attrs:{id:"集群节点复制"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#集群节点复制"}},[s._v("#")]),s._v(" 集群节点复制")]),s._v(" "),n("p",[s._v("在Redis-Cluster集群中，可以给每一个主节点添加从节点，主节点和从节点直接遵循主从模型的特性。")]),s._v(" "),n("p",[s._v("当用户需要处理更多读请求的时候，添加从节点可以扩展系统的读性能。")]),s._v(" "),n("h3",{attrs:{id:"故障转移"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#故障转移"}},[s._v("#")]),s._v(" 故障转移")]),s._v(" "),n("p",[s._v("Redis集群的主节点内置了类似Redis Sentinel的节点故障检测和自动故障转移功能，当集群中的某个主节点下线时，集群中的其他在线主节点会注意到这一点，并对已下线的主节点进行故障转移。")]),s._v(" "),n("p",[s._v("集群进行故障转移的方法和Redis Sentinel进行故障转移的方法基本一样，不同的是，在集群里面，故障转移是由集群中其他在线的主节点负责进行的，所以集群不必另外使用Redis Sentinel。")]),s._v(" "),n("h3",{attrs:{id:"集群分片策略"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#集群分片策略"}},[s._v("#")]),s._v(" 集群分片策略")]),s._v(" "),n("p",[s._v("Redis-cluster分片策略，是用来解决key存储位置的。")]),s._v(" "),n("p",[s._v("集群将整个数据库分为16384个槽位slot，所有key-value数据都存储在这些slot中的某一个上。一个slot槽位可以存放多个数据，key的槽位计算公式为："),n("code",[s._v("slot_number=crc16(key)%16384")]),s._v("，其中crc16为16位的循环冗余校验和函数。")]),s._v(" "),n("p",[s._v("集群中的每个主节点都可以处理0个至16383个槽，当16384个槽都有某个节点在负责处理时，集群进入上线状态，并开始处理客户端发送的数据命令请求。")]),s._v(" "),n("p",[s._v("Redis 集群使用数据分片（sharding）而非一致性哈希（consistency hashing）来实现： 一个 Redis 集群包含 16384 个哈希槽（hash slot）， 数据库中的每个键都属于这 16384 个哈希槽的其中一个， 集群使用公式 CRC16(key) % 16384 来计算键 key 属于哪个槽， 其中 CRC16(key) 语句用于计算键 key 的 CRC16 校验和 。")]),s._v(" "),n("ol",[n("li",[s._v("节点 A 负责处理 0 号至 5500 号哈希槽。")]),s._v(" "),n("li",[s._v("节点 B 负责处理 5501 号至 11000 号哈希槽。")]),s._v(" "),n("li",[s._v("节点 C 负责处理 11001 号至 16384 号哈希槽。")])]),s._v(" "),n("p",[n("img",{attrs:{src:"http://bak.agou-ops.top/uploads/redis/images/m_4d0eddb4cbb10a4882dafd941142339a_r.png",alt:"null"}})]),s._v(" "),n("h3",{attrs:{id:"集群重定向"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#集群重定向"}},[s._v("#")]),s._v(" 集群重定向")]),s._v(" "),n("p",[s._v("由于Redis集群无中心节点，请求会随机发给任意主节点；")]),s._v(" "),n("p",[s._v("主节点只会处理自己负责槽位的命令请求，其它槽位的命令请求，该主节点会返回客户端一个转向错误；")]),s._v(" "),n("p",[s._v("客户端"),n("em",[s._v("根据错误中包含的地址和端口")]),s._v("重新向正确的负责的主节点发起命令请求。")]),s._v(" "),n("h3",{attrs:{id:"主从复制原理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#主从复制原理"}},[s._v("#")]),s._v(" 主从复制原理")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://agou-images.oss-cn-qingdao.aliyuncs.com/others/image-20211103173116252.png",alt:"image-20211103173116252"}})]),s._v(" "),n("p",[s._v("图片来源于网络。")]),s._v(" "),n("h2",{attrs:{id:"redis-cluster-集群搭建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redis-cluster-集群搭建"}},[s._v("#")]),s._v(" Redis-Cluster 集群搭建")]),s._v(" "),n("p",[s._v("手头资源有限，故采用单机部署集群（3主3从）")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("角色")]),s._v(" "),n("th",[s._v("IP:PORT")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("master1")]),s._v(" "),n("td",[s._v("172.16.1.135:7001")])]),s._v(" "),n("tr",[n("td",[s._v("slave1")]),s._v(" "),n("td",[s._v("172.16.1.135:7002")])]),s._v(" "),n("tr",[n("td",[s._v("master2")]),s._v(" "),n("td",[s._v("172.16.1.135:7003")])]),s._v(" "),n("tr",[n("td",[s._v("slave2")]),s._v(" "),n("td",[s._v("172.16.1.135:7004")])]),s._v(" "),n("tr",[n("td",[s._v("master3")]),s._v(" "),n("td",[s._v("172.16.1.135:7005")])]),s._v(" "),n("tr",[n("td",[s._v("slave3")]),s._v(" "),n("td",[s._v("172.16.1.135:7006")])])])]),s._v(" "),n("p",[s._v("在"),n("code",[s._v("/etc/redis")]),s._v("目录下创建一个"),n("code",[s._v("redis-cluster")]),s._v("的文件夹，里面存放各节点的配置文件：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /usr/local/redis/redis-cluster -p\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/redis/redis-cluster "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -pv "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("700")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[n("img",{attrs:{src:"http://agou-images.oss-cn-qingdao.aliyuncs.com/blog-images/redis/redis-1.png",alt:""}})]),s._v(" "),n("p",[s._v("将程序及配置文件分别复制到各个节点文件夹中去：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("700")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -ar "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v("/*\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("修改部分配置文件（以7001为例）：")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("port "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v("\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 改成对应的")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("bind")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135\ncluster-enabled "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\ndaemonized  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\nlogfile /var/log/redis/redis-7001.log\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 改成对应的")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("修改完配置文件之后，启动各 redis 节点：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("declare")]),s._v(" -i "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("i")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("((")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/redis/redis-cluster/700"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" ./redis-server redis.conf "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("let")]),s._v(" i++ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("查看各节点启动情况：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("root@ubuntu:/usr/local/redis/redis-cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("# "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" redis\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2534")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("64360")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4176")]),s._v(" ?        Ssl  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":00   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 ./redis-server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7001 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2484")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("64360")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4264")]),s._v(" ?        Ssl  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":57   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 ./redis-server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7002 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2499")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("64360")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4156")]),s._v(" ?        Ssl  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":59   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 ./redis-server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7003 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2506")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("61288")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4064")]),s._v(" ?        Ssl  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":59   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 ./redis-server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7004 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2513")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("61288")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5180")]),s._v(" ?        Ssl  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":59   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 ./redis-server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7005 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2520")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("64360")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5284")]),s._v(" ?        Ssl  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":59   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 ./redis-server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7006 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("执行创建集群命令：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 该工具位于编译安装之后的源码包的 src 目录中")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /root/redis-6.0.1/src")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 需要注意的是，在6.0版本中redis-trib.rb不再被支持，不可用")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-trib.rb create --replicas 1 172.16.1.135:7001 172.16.1.135:7002 172.16.1.135:7003 172.16.1.135:7004 172.16.1.135:7005  172.16.1.135:7006")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 所以在这里我使用 redis-cli 来进行部署")]),s._v("\n./redis-cli --cluster create "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7001 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7002 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7003 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7004 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7005 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7006 --cluster-replicas "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("期间会让你确认配置信息，如果检查无误，输入"),n("code",[s._v("yes")]),s._v("，然后回车即可.")]),s._v(" "),n("p",[n("img",{attrs:{src:"http://agou-images.oss-cn-qingdao.aliyuncs.com/blog-images/redis/redis-2.png",alt:""}})]),s._v(" "),n("p",[s._v("到这里，Redis-Cluster 部署就完成了。")]),s._v(" "),n("p",[s._v("查询集群信息，登录任意节点即可查询集群信息：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("root@ubuntu:/usr/local/redis/redis-cluster/7001"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("# ./redis-cli -c -h "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135 -p "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v(" cluster nodes\n57cd4ece5741fd2d26c82862636131e9f6998266 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7003@17003 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1589712996000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10923")]),s._v("-16383\ne87819de3b319f03448f2d24ea4c2a24f543aae8 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7004@17004 slave 542db4615090a3e0b92b8bae2e6cac1232f18b7f "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1589712998000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" connected\n542db4615090a3e0b92b8bae2e6cac1232f18b7f "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7002@17002 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1589713000951")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v("-10922\n7c73a8733bb892ac21ad701157a262e4f8fefc92 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7005@17005 slave 57cd4ece5741fd2d26c82862636131e9f6998266 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1589712999000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" connected\n6ab7f7e59e5394f3f8f5eb5c4c68b64171722887 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7006@17006 slave 94780e8f265ddeaaa59528b8a0f567b2eb22d5e7 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1589712999945")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" connected\n94780e8f265ddeaaa59528b8a0f567b2eb22d5e7 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7001@17001 myself,master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1589712997000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-5460\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v(" cluster info\ncluster_state:ok\ncluster_slots_assigned:16384\ncluster_slots_ok:16384\ncluster_slots_pfail:0\ncluster_slots_fail:0\ncluster_known_nodes:6\ncluster_size:3\ncluster_current_epoch:6\ncluster_my_epoch:1\ncluster_stats_messages_ping_sent:359\ncluster_stats_messages_pong_sent:362\ncluster_stats_messages_sent:721\ncluster_stats_messages_ping_received:357\ncluster_stats_messages_pong_received:359\ncluster_stats_messages_meet_received:5\ncluster_stats_messages_received:721\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br")])]),n("p",[s._v("可以看到集群分片的情况，及其他详细的相关信息。")]),s._v(" "),n("p",[s._v("测试，某一主节点挂掉：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("root@ubuntu:/usr/local/redis/redis-cluster/7001"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("# "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" redis "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $2}'")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 登录 slave1 查看集群状态")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v(" CLUSTER NODES\n94780e8f265ddeaaa59528b8a0f567b2eb22d5e7 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7001@17001 master,fail - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1589713261516")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1589713254000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" disconnected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-5460\n7c73a8733bb892ac21ad701157a262e4f8fefc92 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7005@17005 slave 57cd4ece5741fd2d26c82862636131e9f6998266 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1589713313000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" connected\n57cd4ece5741fd2d26c82862636131e9f6998266 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7003@17003 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1589713313441")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10923")]),s._v("-16383\ne87819de3b319f03448f2d24ea4c2a24f543aae8 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7004@17004 slave 542db4615090a3e0b92b8bae2e6cac1232f18b7f "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1589713314452")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" connected\n542db4615090a3e0b92b8bae2e6cac1232f18b7f "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7002@17002 myself,master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1589713314000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v("-10922\n6ab7f7e59e5394f3f8f5eb5c4c68b64171722887 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".1.135:7006@17006 slave 94780e8f265ddeaaa59528b8a0f567b2eb22d5e7 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1589713315463")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" connected \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[s._v("slave1 已成功上任～")]),s._v(" "),n("h2",{attrs:{id:"附录-快速搭建测试环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#附录-快速搭建测试环境"}},[s._v("#")]),s._v(" 附录：快速搭建测试环境")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建多实例目录")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@db01 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  mkdir -p /data/700{0..5}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编辑多实例配置文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@db01 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  vim /data/7000/redis.conf")]),s._v("\nport "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\ndaemonize "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\npidfile /data/7000/redis.pid\nloglevel notice\nlogfile "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/data/7000/redis.log"')]),s._v("\ndbfilename dump.rdb\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dir")]),s._v(" /data/7000\nprotected-mode no\ncluster-enabled "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\ncluster-config-file nodes.conf\ncluster-node-timeout "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),s._v("\nappendonly "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@db01 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  vim /data/7001/redis.conf")]),s._v("\nport "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v("\ndaemonize "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\npidfile /data/7001/redis.pid\nloglevel notice\nlogfile "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/data/7001/redis.log"')]),s._v("\ndbfilename dump.rdb\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dir")]),s._v(" /data/7001\nprotected-mode no\ncluster-enabled "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\ncluster-config-file nodes.conf\ncluster-node-timeout "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),s._v("\nappendonly "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@db01 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  vim /data/7002/redis.conf")]),s._v("\nport "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7002")]),s._v("\ndaemonize "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\npidfile /data/7002/redis.pid\nloglevel notice\nlogfile "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/data/7002/redis.log"')]),s._v("\ndbfilename dump.rdb\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dir")]),s._v(" /data/7002\nprotected-mode no\ncluster-enabled "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\ncluster-config-file nodes.conf\ncluster-node-timeout "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),s._v("\nappendonly "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n\n\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@db01 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  vim /data/7003/redis.conf")]),s._v("\nport "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7003")]),s._v("\ndaemonize "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\npidfile /data/7003/redis.pid\nloglevel notice\nlogfile "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/data/7003/redis.log"')]),s._v("\ndbfilename dump.rdb\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dir")]),s._v(" /data/7003\nprotected-mode no\ncluster-enabled "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\ncluster-config-file nodes.conf\ncluster-node-timeout "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),s._v("\nappendonly "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n\n\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@db01 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  vim /data/7004/redis.conf")]),s._v("\nport "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7004")]),s._v("\ndaemonize "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\npidfile /data/7004/redis.pid\nloglevel notice\nlogfile "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/data/7004/redis.log"')]),s._v("\ndbfilename dump.rdb\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dir")]),s._v(" /data/7004\nprotected-mode no\ncluster-enabled "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\ncluster-config-file nodes.conf\ncluster-node-timeout "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),s._v("\nappendonly "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@db01 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  vim /data/7005/redis.conf")]),s._v("\nport "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7005")]),s._v("\ndaemonize "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\npidfile /data/7005/redis.pid\nloglevel notice\nlogfile "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/data/7005/redis.log"')]),s._v("\ndbfilename dump.rdb\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dir")]),s._v(" /data/7005\nprotected-mode no\ncluster-enabled "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\ncluster-config-file nodes.conf\ncluster-node-timeout "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),s._v("\nappendonly "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动节点")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@db01 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  redis-server /data/7000/redis.conf ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@db01 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  redis-server /data/7001/redis.conf ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@db01 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  redis-server /data/7002/redis.conf ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@db01 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  redis-server /data/7003/redis.conf ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@db01 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  redis-server /data/7004/redis.conf ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@db01 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  redis-server /data/7005/redis.conf ")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检查端口")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@db01 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  netstat -lntup|grep 700*")]),s._v("\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:17003               "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*                   LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7433")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:17004               "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*                   LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7437")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:17005               "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*                   LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7443")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:7000                "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*                   LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7423")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:7001                "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*                   LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7425")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:7002                "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*                   LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7429")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:7003                "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*                   LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7433")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:7004                "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*                   LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7437")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:7005                "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*                   LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7443")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:17000               "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*                   LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7423")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:17001               "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*                   LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7425")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:17002               "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*                   LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7429")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::17003                    :::*                        LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7433")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::17004                    :::*                        LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7437")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::17005                    :::*                        LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7443")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::7000                     :::*                        LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7423")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::7001                     :::*                        LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7425")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::7002                     :::*                        LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7429")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::7003                     :::*                        LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7433")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::7004                     :::*                        LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7437")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::7005                     :::*                        LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7443")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::17000                    :::*                        LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7423")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::17001                    :::*                        LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7425")]),s._v("/redis-server *\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::17002                    :::*                        LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7429")]),s._v("/redis-server *\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检查进程")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@db01 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  ps -ef|grep redis")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7423")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":30 ?        00:00:00 redis-server *:7000 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7425")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":30 ?        00:00:00 redis-server *:7001 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7429")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":30 ?        00:00:00 redis-server *:7002 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7433")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":30 ?        00:00:00 redis-server *:7003 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7437")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":30 ?        00:00:00 redis-server *:7004 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7443")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":30 ?        00:00:00 redis-server *:7005 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br"),n("span",{staticClass:"line-number"},[s._v("101")]),n("br"),n("span",{staticClass:"line-number"},[s._v("102")]),n("br"),n("span",{staticClass:"line-number"},[s._v("103")]),n("br"),n("span",{staticClass:"line-number"},[s._v("104")]),n("br"),n("span",{staticClass:"line-number"},[s._v("105")]),n("br"),n("span",{staticClass:"line-number"},[s._v("106")]),n("br"),n("span",{staticClass:"line-number"},[s._v("107")]),n("br"),n("span",{staticClass:"line-number"},[s._v("108")]),n("br"),n("span",{staticClass:"line-number"},[s._v("109")]),n("br"),n("span",{staticClass:"line-number"},[s._v("110")]),n("br"),n("span",{staticClass:"line-number"},[s._v("111")]),n("br"),n("span",{staticClass:"line-number"},[s._v("112")]),n("br"),n("span",{staticClass:"line-number"},[s._v("113")]),n("br"),n("span",{staticClass:"line-number"},[s._v("114")]),n("br"),n("span",{staticClass:"line-number"},[s._v("115")]),n("br"),n("span",{staticClass:"line-number"},[s._v("116")]),n("br"),n("span",{staticClass:"line-number"},[s._v("117")]),n("br"),n("span",{staticClass:"line-number"},[s._v("118")]),n("br"),n("span",{staticClass:"line-number"},[s._v("119")]),n("br"),n("span",{staticClass:"line-number"},[s._v("120")]),n("br"),n("span",{staticClass:"line-number"},[s._v("121")]),n("br"),n("span",{staticClass:"line-number"},[s._v("122")]),n("br"),n("span",{staticClass:"line-number"},[s._v("123")]),n("br"),n("span",{staticClass:"line-number"},[s._v("124")]),n("br"),n("span",{staticClass:"line-number"},[s._v("125")]),n("br"),n("span",{staticClass:"line-number"},[s._v("126")]),n("br"),n("span",{staticClass:"line-number"},[s._v("127")]),n("br"),n("span",{staticClass:"line-number"},[s._v("128")]),n("br"),n("span",{staticClass:"line-number"},[s._v("129")]),n("br"),n("span",{staticClass:"line-number"},[s._v("130")]),n("br"),n("span",{staticClass:"line-number"},[s._v("131")]),n("br"),n("span",{staticClass:"line-number"},[s._v("132")]),n("br"),n("span",{staticClass:"line-number"},[s._v("133")]),n("br"),n("span",{staticClass:"line-number"},[s._v("134")]),n("br"),n("span",{staticClass:"line-number"},[s._v("135")]),n("br"),n("span",{staticClass:"line-number"},[s._v("136")]),n("br"),n("span",{staticClass:"line-number"},[s._v("137")]),n("br"),n("span",{staticClass:"line-number"},[s._v("138")]),n("br")])]),n("h2",{attrs:{id:"参考链接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[s._v("#")]),s._v(" 参考链接")]),s._v(" "),n("ul",[n("li",[s._v("redis cluster-tutorial: https://redis.io/topics/cluster-tutorial/")])])])}),[],!1,null,null,null);a.default=e.exports}}]);