(window.webpackJsonp=window.webpackJsonp||[]).push([[211],{843:function(s,e,a){"use strict";a.r(e);var r=a(6),t=Object(r.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"minio-in-docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#minio-in-docker"}},[s._v("#")]),s._v(" MinIO in Docker")]),s._v(" "),a("p",[s._v("use Docker:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d --name minio1 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),s._v(":9000 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9001")]),s._v(":9001 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -v /root/minio/data:/data "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -v /root/minio/config:/root/.minio "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -e "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MINIO_ROOT_USER=QXLXHV2YBUNNIPK1LTYIB7IA"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -e "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MINIO_ROOT_PASSWORD=fT59aVbwfbTceEeEuR2jWeJE3mv2nG_rQ_1dgSIXHFiIlIRf"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  quay.io/minio/minio server /data --console-address "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('":9001"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("use Podman:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("podman")]),s._v(" run -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),s._v(":9000 -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9001")]),s._v(":9001 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  quay.io/minio/minio server /data --console-address "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('":9001"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"使用docker-secrets进行minio-access和secret密钥自定义"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用docker-secrets进行minio-access和secret密钥自定义"}},[s._v("#")]),s._v(" 使用Docker secrets进行MinIO Access和Secret密钥自定义")]),s._v(" "),a("p",[s._v("要覆盖MinIO的自动生成的密钥,你可以把secret和access秘钥创建成"),a("a",{attrs:{href:"https://docs.docker.com/engine/swarm/secrets/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker secrets"),a("OutboundLink")],1),s._v(". MinIO允许常规字符串作为Access和Secret密钥。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("Copyecho "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"AKIAIOSFODNN7EXAMPLE"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" secret create access_key -\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" secret create secret_key -\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("使用"),a("code",[s._v("docker service")]),s._v("创建MinIO服务，并读取Docker secrets。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("Copydocker "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" create --name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"minio-service"')]),s._v(" --secret"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"access_key"')]),s._v(" --secret"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"secret_key"')]),s._v(" minio/minio server /data\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("更多 "),a("code",[s._v("docker service")]),s._v("信息，请访问 "),a("a",{attrs:{href:"https://docs.docker.com/engine/swarm/how-swarm-mode-works/services/",target:"_blank",rel:"noopener noreferrer"}},[s._v("这里"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"获取容器id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取容器id"}},[s._v("#")]),s._v(" 获取容器ID")]),s._v(" "),a("p",[s._v("在容器中使用Docker命令, 你需要知道这个容器的 "),a("code",[s._v("容器ID")]),s._v(" 。 为了获取 "),a("code",[s._v("Container ID")]),s._v(", 运行")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("Copydocker "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("code",[s._v("-a")]),s._v(" flag 确保你获取所有的容器(创建的，正在运行的，退出的)，然后从输出中识别"),a("code",[s._v("Container ID")]),s._v("。")]),s._v(" "),a("h3",{attrs:{id:"启动和停止容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动和停止容器"}},[s._v("#")]),s._v(" 启动和停止容器")]),s._v(" "),a("p",[s._v("启动容器,你可以使用 "),a("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/start/",target:"_blank",rel:"noopener noreferrer"}},[a("code",[s._v("docker start")]),a("OutboundLink")],1),s._v(" 命令。")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("Copydocker start "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("container_id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("停止一下正在运行的容器, 使用 "),a("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/stop/",target:"_blank",rel:"noopener noreferrer"}},[a("code",[s._v("docker stop")]),a("OutboundLink")],1),s._v(" 命令。")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("Copydocker stop "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("container_id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"minio容器日志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#minio容器日志"}},[s._v("#")]),s._v(" MinIO容器日志")]),s._v(" "),a("p",[s._v("获取MinIO日志，使用 "),a("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/logs/",target:"_blank",rel:"noopener noreferrer"}},[a("code",[s._v("docker logs")]),a("OutboundLink")],1),s._v(" 命令。")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("Copydocker logs "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("container_id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"监控miniodocker容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#监控miniodocker容器"}},[s._v("#")]),s._v(" 监控MinioDocker容器")]),s._v(" "),a("p",[s._v("监控MinIO容器使用的资源,使用 "),a("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/stats/",target:"_blank",rel:"noopener noreferrer"}},[a("code",[s._v("docker stats")]),a("OutboundLink")],1),s._v(" 命令.")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("Copydocker stats "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("container_id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])}),[],!1,null,null,null);e.default=t.exports}}]);