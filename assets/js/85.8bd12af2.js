(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{718:function(t,s,e){"use strict";e.r(s);var a=e(6),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"ansible-清单管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ansible-清单管理"}},[t._v("#")]),t._v(" Ansible 清单管理")]),t._v(" "),e("div",{staticClass:"language-ini line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token section"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token section-name selector"}},[t._v("test1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("A[1:4].agou-ops.top ansible_ssh_pass")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("'"),e("span",{pre:!0,attrs:{class:"token inner-value"}},[t._v("suofeiya")]),t._v("'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token section"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token section-name selector"}},[t._v("test2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),t._v("\nB.agou-ops.top\n\n"),e("span",{pre:!0,attrs:{class:"token section"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token section-name selector"}},[t._v("test:children")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),t._v("\ntest1\ntest2\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或者")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token section"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token section-name selector"}},[t._v("test")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),t._v("\ntest[1:4].agou-ops.top\n"),e("span",{pre:!0,attrs:{class:"token section"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token section-name selector"}},[t._v("test:vars")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("ansible_ssh_pass")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("'"),e("span",{pre:!0,attrs:{class:"token inner-value"}},[t._v("suofeiya")]),t._v("'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# yaml语法如下")]),t._v("\nall:\n  hosts:\n    10.1.1.61:\n  children:\n    test1:\n      hosts:\n        10.1.1.60:\n    test2:\n      hosts:\n        10.1.1.70:\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 对应ini格式")]),t._v("\n10.1.1.61\n\n"),e("span",{pre:!0,attrs:{class:"token section"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token section-name selector"}},[t._v("test1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),t._v("\n10.1.1.60\n\n"),e("span",{pre:!0,attrs:{class:"token section"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token section-name selector"}},[t._v("test2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),t._v("\n10.1.1.70\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br"),e("span",{staticClass:"line-number"},[t._v("26")]),e("br"),e("span",{staticClass:"line-number"},[t._v("27")]),e("br"),e("span",{staticClass:"line-number"},[t._v("28")]),e("br"),e("span",{staticClass:"line-number"},[t._v("29")]),e("br"),e("span",{staticClass:"line-number"},[t._v("30")]),e("br"),e("span",{staticClass:"line-number"},[t._v("31")]),e("br"),e("span",{staticClass:"line-number"},[t._v("32")]),e("br"),e("span",{staticClass:"line-number"},[t._v("33")]),e("br")])]),e("h2",{attrs:{id:"附录-ansible-内置变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#附录-ansible-内置变量"}},[t._v("#")]),t._v(" 附录: Ansible 内置变量")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("用途")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("例子")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_ssh_host")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("定义hosts ssh地址")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_ssh_host=192.168.6.240")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_ssh_port")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("定义hosts ssh端口")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_ssh_port=52113")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_ssh_user")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("定义hosts ssh认证用户")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_ssh_user=user")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_ssh_pass")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("定义hosts ssh认证密码")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_ssh_pass=pass")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_sudo")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("定义hosts sudo用户")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_sudo=www")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_sudo_pass")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("定义hosts sudo密码")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_sudo_pass=pass")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_sudo_exe")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("定义hosts sudo路径")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_sudo_exe=/usr/bin/sudo")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_connection")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("定义hosts 连接方式")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_connection=local")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_ssh_private_key_file")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("定义hosts 私钥")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_ssh_private_key_file=/root/key")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_ssh_shell_type")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("定义hosts shell类型")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_ssh_shell_type=bash")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_python_interpreter")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("定义hosts 任务执行python路径")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_python_interpreter=/usr/bin/python2.7")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_*_interpreter")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("定义hosts 其他语言解析路径")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_*_interpreter=/usr/bin/ruby")])])])])])}),[],!1,null,null,null);s.default=n.exports}}]);