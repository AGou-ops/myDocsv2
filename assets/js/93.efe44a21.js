(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{726:function(s,n,e){"use strict";e.r(n);var a=e(6),t=Object(a.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"jenkins-basic"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jenkins-basic"}},[s._v("#")]),s._v(" Jenkins Basic")]),s._v(" "),e("p",[e("code",[s._v("Jenkins")]),s._v("是一个独立的、开源的自动化服务器可以用来自动执行各种各样的任务相关的建筑、测试和交付或部署软件。 "),e("code",[s._v("Jenkins")]),s._v("可以通过"),e("code",[s._v("本机系统安装包")]),s._v(", "),e("code",[s._v("Docker")]),s._v(", 甚至是任何机器运行独立的"),e("code",[s._v("Java运行时环境(JRE)")]),s._v("安装。")]),s._v(" "),e("h2",{attrs:{id:"安装与使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装与使用"}},[s._v("#")]),s._v(" 安装与使用")]),s._v(" "),e("p",[s._v("新版本"),e("code",[s._v("Jenkins")]),s._v("依赖于"),e("code",[s._v("jdk8")]),s._v("或者"),e("code",[s._v("jdk11")]),s._v(", 需要提前安装, 安装过程不再赘述.")]),s._v(" "),e("p",[s._v("下载并使用"),e("code",[s._v("war")]),s._v("包进行安装:")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://mirrors.jenkins.io/war-stable/latest/jenkins.war\njava -jar jenkins.war\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("通过"),e("code",[s._v("yum")]),s._v("仓库或者直接下载"),e("code",[s._v("rpm")]),s._v("包安装:")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过仓库安装")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -O /etc/yum.repos.d/jenkins.repo "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    https://pkg.jenkins.io/redhat-stable/jenkins.repo\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" --import https://pkg.jenkins.io/redhat-stable/jenkins.io.key\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum upgrade\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" jenkins java-1.8.0-openjdk-devel\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 直接下载rpm包安装")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://pkg.jenkins.io/redhat-stable/jenkins-2.235.2-1.1.noarch.rpm\nyum localinstall -y jenkins-2.235.2-1.1.noarch.rpm\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum install -y https://pkg.jenkins.io/redhat-stable/jenkins-2.235.2-1.1.noarch.rpm")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("p",[s._v("启动"),e("code",[s._v("Jenkins")]),s._v("服务:")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start jenkins\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看启动状态")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl status jenkins\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如若使用的是war包, 启动命令如下所示")]),s._v("\njava -jar jenkins.war --httpPort"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("9090")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[s._v("最后, 打开浏览器访问 : http://localhost:8080 , 等待解锁"),e("code",[s._v("Jenkins")]),s._v("即可.("),e("a",{attrs:{href:"https://www.jenkins.io/doc/book/installing/#unlocking-jenkins",target:"_blank",rel:"noopener noreferrer"}},[s._v("UNLOCK JENKINS"),e("OutboundLink")],1),s._v(")")]),s._v(" "),e("p",[e("img",{attrs:{src:"http://agou-images.oss-cn-qingdao.aliyuncs.com/blog-images/CI%26CD/jenkins-1.png",alt:""}})]),s._v(" "),e("p",[s._v("等待安装插件:")]),s._v(" "),e("p",[e("img",{attrs:{src:"http://agou-images.oss-cn-qingdao.aliyuncs.com/blog-images/CI%26CD/jenkins-2.png",alt:"等待安装插件"}})]),s._v(" "),e("p",[s._v("ℹ️国内"),e("code",[s._v("Jenkins")]),s._v("插件镜像源: https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json")]),s._v(" "),e("blockquote",[e("p",[e("strong",[s._v("Jenkins初始化过程中出现的问题:")])]),s._v(" "),e("p",[s._v("Jenkins 问题"),e("code",[s._v("An error occurred during installation: No such plugin: cloudbees-folder")])]),s._v(" "),e("p",[e("strong",[s._v("解决方案一:")])]),s._v(" "),e("ol",[e("li",[s._v("上面的错误显示是，安装插件 cloudbees-folder 失败，是因为下载的 Jenkins.war 里没有 cloudbees-folder 插件,需要去 https://updates.jenkins-ci.org/download/plugins/cloudbees-folder/ 下载一个插件")]),s._v(" "),e("li",[s._v("访问 IP:PORT/manage，越过配置插件的页面，直接访问")]),s._v(" "),e("li",[s._v("点击【系统管理】–【管理插件】–【高级】–【上传插件】，手动安装下载好的插件，即可")])]),s._v(" "),e("p",[e("strong",[s._v("解决方案二:")])]),s._v(" "),e("p",[s._v("需要修改的是"),e("code",[s._v("jenkins.war")]),s._v("包，从服务器上下载好"),e("code",[s._v("jenkins.war")]),s._v("包进行修改, 只需将从https://updates.jenkins-ci.org/download/plugins/cloudbees-folder/ 下载好的插件添加进去, 然后回传到服务器, 最后重启"),e("code",[s._v("jenkins")]),s._v("即可.")])]),s._v(" "),e("p",[s._v("成功部署结果:")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://agou-images.oss-cn-qingdao.aliyuncs.com/blog-images/CI%26CD/jenkins-3.png",alt:""}})]),s._v(" "),e("h2",{attrs:{id:"通过-docker-安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#通过-docker-安装"}},[s._v("#")]),s._v(" 通过 Docker 安装")]),s._v(" "),e("p",[s._v("官方"),e("code",[s._v("Docker")]),s._v("仓库: https://hub.docker.com/_/jenkins")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull jenkins\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run --name myjenkins -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(":8080 -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("50000")]),s._v(":50000 -v /var/jenkins_home jenkins\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h1",{attrs:{id:"其他"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[s._v("#")]),s._v(" 其他")]),s._v(" "),e("h3",{attrs:{id:"切换语言为简体中文"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#切换语言为简体中文"}},[s._v("#")]),s._v(" 切换语言为简体中文")]),s._v(" "),e("p",[s._v("安装"),e("code",[s._v("Locale plugin")]),s._v("插件, 选择"),e("code",[s._v("configuration")]),s._v("然后设置语言为"),e("code",[s._v("zh-CN")]),s._v("并勾选"),e("code",[s._v("Ignore browser preference and force this language to all users")]),s._v("即可.")]),s._v(" "),e("p",[s._v("⚠️如果安装完插件显示有部分中文异常的情况, 需要再安装"),e("code",[s._v("Localization: Chinese (Simplified)")]),s._v("插件试试, 倘若还是不行, 重启"),e("code",[s._v("jenkins")]),s._v(", 再重新安装插件试试.")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://agou-images.oss-cn-qingdao.aliyuncs.com/blog-images/CI%26CD/jenkins-4.png",alt:""}})]),s._v(" "),e("p",[e("img",{attrs:{src:"https://agou-images.oss-cn-qingdao.aliyuncs.com/blog-images/CI%26CD/jenkins-5.png",alt:""}})]),s._v(" "),e("p",[s._v("最后重启"),e("code",[s._v("jenkins")]),s._v("即可, 打开浏览器访问:")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("http://xx.xx.xx.xx:8080/restart \t"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# xx.xx.xx.xx 为服务器IP")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"修改默认目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改默认目录"}},[s._v("#")]),s._v(" 修改默认目录")]),s._v(" "),e("p",[s._v("在"),e("code",[s._v("Linux")]),s._v("和"),e("code",[s._v("Mac")]),s._v("系统下, "),e("code",[s._v("jenkins")]),s._v("的默认文件目录为"),e("code",[s._v("/var/lib/jenkins")]),s._v(", "),e("code",[s._v("windows")]),s._v("系统为"),e("code",[s._v("C:\\Users\\%USERNAME%\\.jenkins")]),s._v(".")]),s._v(" "),e("ul",[e("li",[s._v("在"),e("code",[s._v("linux")]),s._v("或者"),e("code",[s._v("Mac")]),s._v("系统下修改:  只需在用户配置文件("),e("code",[s._v("/etc/profile")]),s._v(")中添加"),e("code",[s._v("JENKINS_HOME")]),s._v("变量即可.")]),s._v(" "),e("li",[e("code",[s._v("Windows")]),s._v("下修改, 添加一个用户变量"),e("code",[s._v("JENKINS_HOME")]),s._v("即可.")])]),s._v(" "),e("p",[s._v("然后将原来"),e("code",[s._v("jenkins")]),s._v("目录中的文件复制到新文件夹中即可.")]),s._v(" "),e("p",[s._v("最后重启"),e("code",[s._v("jenkins")]),s._v("服务. http://localhost:8080/restart")]),s._v(" "),e("blockquote",[e("p",[s._v("Windows 下重启"),e("code",[s._v("jenkins")]),s._v("遇到的问题: "),e("code",[s._v("Jenkins cannot restart itself as currently configured.")])]),s._v(" "),e("p",[e("strong",[s._v("解决方法:")])]),s._v(" "),e("p",[s._v("进入"),e("code",[s._v("Manage Jenkins")]),s._v(", 找到"),e("code",[s._v("Install as Windows service")]),s._v(", 然后安装成为服务即可.")])]),s._v(" "),e("h2",{attrs:{id:"参考链接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[s._v("#")]),s._v(" 参考链接")]),s._v(" "),e("ul",[e("li",[s._v("Jenkins User Docs: https://www.jenkins.io/doc/")]),s._v(" "),e("li",[s._v("Jenkins installing: https://www.jenkins.io/doc/book/installing/")]),s._v(" "),e("li",[s._v('"An error occurred during installation: No such plugin: cloudbees-folder": https://github.com/jenkinsci/docker/issues/424')]),s._v(" "),e("li",[s._v('"Jenkins 安装插件 No such plugin: cloudbees-folder": https://blog.csdn.net/dhq779626019/article/details/105756115')]),s._v(" "),e("li",[s._v("Jenkins Plugins: https://plugins.jenkins.io/")]),s._v(" "),e("li",[s._v("Jenkins  Mirrors  status: http://mirrors.jenkins-ci.org/status.html")])])])}),[],!1,null,null,null);n.default=t.exports}}]);