(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{684:function(s,e,a){"use strict";a.r(e);var t=a(6),n=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"minikube-basic"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#minikube-basic"}},[s._v("#")]),s._v(" Minikube Basic")]),s._v(" "),a("h2",{attrs:{id:"minikube-简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#minikube-简介"}},[s._v("#")]),s._v(" minikube 简介")]),s._v(" "),a("p",[s._v("Minikube 是一种可以让您在本地轻松运行 Kubernetes 的工具。Minikube 在笔记本电脑上的虚拟机（VM）中运行单节点 Kubernetes 集群，供那些希望尝试 Kubernetes 或进行日常开发的用户使用。")]),s._v(" "),a("h2",{attrs:{id:"minikube-安装与启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#minikube-安装与启动"}},[s._v("#")]),s._v(" minikube 安装与启动")]),s._v(" "),a("h3",{attrs:{id:"windows-系统下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#windows-系统下"}},[s._v("#")]),s._v(" Windows 系统下")]),s._v(" "),a("p",[s._v("在"),a("code",[s._v("windows")]),s._v("操作系统下, 使用"),a("code",[s._v("choco")]),s._v("包管理器进行快速安装.")]),s._v(" "),a("div",{staticClass:"language-powershell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装 choco 包管理器, 以管理员身份打开 powershell, 输入以下命令.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("PS")]),s._v(" C:\\Users\\Administrator> "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Set-ExecutionPolicy")]),s._v(" Bypass "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Scope "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Process")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Force"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("[System.Net.ServicePointManager]")]),s._v("::SecurityProtocol = "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("[System.Net.ServicePointManager]")]),s._v("::SecurityProtocol "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-bor")]),s._v(" 3072"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("iex")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("New-Object")]),s._v(" System"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Net"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("WebClient"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("DownloadString"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://chocolatey.org/install.ps1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"安装-kubectl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-kubectl"}},[s._v("#")]),s._v(" 安装 kubectl")]),s._v(" "),a("p",[s._v("请确保你已正确安装 kubectl。您可以根据"),a("a",{attrs:{href:"https://kubernetes.io/docs/tasks/tools/install-kubectl/#install-kubectl-on-windows",target:"_blank",rel:"noopener noreferrer"}},[s._v("安装并设置 kubectl"),a("OutboundLink")],1),s._v(" 的说明来安装 kubectl。")]),s._v(" "),a("h4",{attrs:{id:"安装-hypervisor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-hypervisor"}},[s._v("#")]),s._v(" 安装 Hypervisor")]),s._v(" "),a("p",[s._v("如果你还没有安装 hypervisor，请选择以下方式之一进行安装：")]),s._v(" "),a("p",[s._v("• "),a("a",{attrs:{href:"https://msdn.microsoft.com/en-us/virtualization/hyperv_on_windows/quick_start/walkthrough_install",target:"_blank",rel:"noopener noreferrer"}},[s._v("Hyper-V"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("• "),a("a",{attrs:{href:"https://www.virtualbox.org/wiki/Downloads",target:"_blank",rel:"noopener noreferrer"}},[s._v("VirtualBox"),a("OutboundLink")],1)]),s._v(" "),a("blockquote",[a("p",[a("strong",[s._v("说明：")])]),s._v(" "),a("p",[s._v("Hyper-V 可以运行在三个版本的 Windows 10 上：企业版、专业版和教育版（Enterprise, Professional, Education）。")])]),s._v(" "),a("h4",{attrs:{id:"使用-chocolatey-安装-minikube"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-chocolatey-安装-minikube"}},[s._v("#")]),s._v(" 使用 Chocolatey 安装 Minikube")]),s._v(" "),a("p",[s._v("Windows 安装 Minikube 最简单的方法是使用 "),a("a",{attrs:{href:"https://chocolatey.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Chocolatey"),a("OutboundLink")],1),s._v(" （以管理员身份运行）：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("choco "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" minikube\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("完成 Minikube 的安装后，关闭当前 CLI 界面再重新打开。 Minikube 应该已经自动添加至 path 中。")]),s._v(" "),a("h4",{attrs:{id:"使用安装程序安装-minikube"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用安装程序安装-minikube"}},[s._v("#")]),s._v(" 使用安装程序安装 Minikube")]),s._v(" "),a("p",[s._v("在 Windows 上使用 "),a("a",{attrs:{href:"https://docs.microsoft.com/en-us/windows/desktop/msi/windows-installer-portal",target:"_blank",rel:"noopener noreferrer"}},[s._v("Windows Installer"),a("OutboundLink")],1),s._v(" 手动安装 Minikube，下载并运行 "),a("a",{attrs:{href:"https://github.com/kubernetes/minikube/releases/latest/download/minikube-installer.exe",target:"_blank",rel:"noopener noreferrer"}},[a("code",[s._v("minikube-installer.exe")]),a("OutboundLink")],1),s._v(" 即可。")]),s._v(" "),a("h4",{attrs:{id:"直接下载并安装-minikube"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#直接下载并安装-minikube"}},[s._v("#")]),s._v(" 直接下载并安装 Minikube")]),s._v(" "),a("p",[s._v("Run kubectl version to verify that the version you’ve installed is sufficiently up-to-date.")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("kubectl version\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"linux-系统下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux-系统下"}},[s._v("#")]),s._v(" Linux 系统下")]),s._v(" "),a("p",[s._v("这里我以"),a("code",[s._v("Ubuntu 20.04")]),s._v("为例，首先运行下面的"),a("code",[s._v("grep")]),s._v("命令来验证您的处理器支持硬件虚拟化：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -Eoc "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'(vmx|svm)'")]),s._v(" /proc/cpuinfo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("检查***"),a("u",[s._v("BIOS的VT是否开启")]),s._v("***，使用以下工具进行检测：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" cpu-checker\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装完毕之后使用以下命令进行检查")]),s._v("\n$ kvm-ok\nINFO: /dev/kvm exists\nKVM acceleration can be used"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/pre"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("安装"),a("code",[s._v("kvm")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" qemu-kvm libvirt-daemon-system libvirt-clients bridge-utils virtinst virt-manager -y\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("安装完成之后，运行以下命令：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl is-active libvirtd\nvirt-host-validate\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 无报错即可")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" -aG libvirt "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$USER")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" -aG kvm "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$USER")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("启动"),a("code",[s._v("minikube")]),s._v("之前，先获取"),a("code",[s._v("minikube")]),a("a",{attrs:{href:"https://minikube.sigs.k8s.io/docs/start/",target:"_blank",rel:"noopener noreferrer"}},[s._v("二进制包"),a("OutboundLink")],1),s._v("：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" minikube-linux-amd64 /usr/local/bin/minikube\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"启动-minikube"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动-minikube"}},[s._v("#")]),s._v(" 启动 minikube")]),s._v(" "),a("h3",{attrs:{id:"windows-系统下-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#windows-系统下-2"}},[s._v("#")]),s._v(" Windows 系统下")]),s._v(" "),a("p",[s._v("完成之后运行启动：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ minikube start --vm-driver"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hyperv"')]),s._v(" --memory"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'5g'")]),s._v(" --image-repository"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("registry.cn-hangzhou.aliyuncs.com/google_containers\n* Microsoft Windows "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" Pro "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.0")]),s._v(".18363 Build "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18363")]),s._v(" 上的 minikube v1.12.1\n* Automatically selected the hyperv driver\n* 正在下载 VM boot image"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" minikube-v1.12.0.iso.sha256: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")]),s._v(" B / "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")]),s._v(" B "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-------------"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.00")]),s._v("% ? p/s 0s\n* Starting control plane "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("node")]),s._v(" minikube "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" cluster minikube\n* Downloading Kubernetes v1.18.3 preload "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" preloaded-images-k8s-v4-v1.18.3-docker-overlay2-amd64.tar.lz4: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("82.39")]),s._v(" MiB\n* Creating hyperv VM "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CPUs"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Memory")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("3000MB, "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Disk")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("20000MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("等待镜像包"),a("code",[s._v("minikube-v1.12.0.iso")]),s._v("下载完成即可.")]),s._v(" "),a("h3",{attrs:{id:"linux系统下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux系统下"}},[s._v("#")]),s._v(" Linux系统下")]),s._v(" "),a("p",[s._v("Start a cluster using the kvm2 driver:")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("minikube start --driver"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("kvm2 --image-repository"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("registry.cn-hangzhou.aliyuncs.com/google_containers\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("To make kvm2 the default driver:")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("minikube config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" driver kvm2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("hr"),s._v(" "),a("p",[s._v("一旦 "),a("code",[s._v("minikube start")]),s._v(" 完成，你可以运行下面的命令来检查集群的状态：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("minikube status\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如果你的集群正在运行，"),a("code",[s._v("minikube status")]),s._v(" 的输出结果应该类似于这样：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("host: Running\nkubelet: Running\napiserver: Running\nkubeconfig: Configured\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("在确认 Minikube 与 hypervisor 均正常工作后，您可以继续使用 Minikube 或停止集群。要停止集群，请运行：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("minikube stop\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"多节点minikube"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多节点minikube"}},[s._v("#")]),s._v(" 多节点Minikube")]),s._v(" "),a("p",[s._v("前提要求：")]),s._v(" "),a("ul",[a("li",[s._v("minikube version > 1.10.1")]),s._v(" "),a("li",[s._v("kubectl installed")])]),s._v(" "),a("p",[s._v("开始吧：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("minikube start --nodes "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" -p multinode-demo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"启用-dashboard"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启用-dashboard"}},[s._v("#")]),s._v(" 启用 DashBoard")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("minikube addons "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" dashboard\nminikube dashboard\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("启动完毕之后, 会自动打开浏览器并访问"),a("code",[s._v("Dashboard")]),s._v(".")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://agou-images.oss-cn-qingdao.aliyuncs.com/blog-images/minikube/minikube-dashboard.png",alt:""}})]),s._v(" "),a("h2",{attrs:{id:"常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[s._v("#")]),s._v(" 常用命令")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("minikube start --driver=<driver_name>")]),s._v(": 启动minikube;")]),s._v(" "),a("li",[a("code",[s._v("minikube status")]),s._v(": 查看 minikube 运行状态;")]),s._v(" "),a("li",[a("code",[s._v("minikube stop")]),s._v(": 停止运行 minikube;")]),s._v(" "),a("li",[a("code",[s._v("minikube delete")]),s._v(": 当 minikube 无法运行或者想完全清理掉 minikube 时使用, 用来删除 minikube.")]),s._v(" "),a("li",[a("code",[s._v("minikube service --url <service-name>")]),s._v("：暴露NodePort到本机本地地址；")]),s._v(" "),a("li",[a("code",[s._v("minikube tunnel")]),s._v("：暴露LoadBalancer到本机本地地址；")])]),s._v(" "),a("h2",{attrs:{id:"其他"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[s._v("#")]),s._v(" 其他")]),s._v(" "),a("h3",{attrs:{id:"部署-minikube-时出现-the-docker-driver-should-not-be-used-with-root-privileges"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署-minikube-时出现-the-docker-driver-should-not-be-used-with-root-privileges"}},[s._v("#")]),s._v(" 部署 minikube 时出现"),a("code",[s._v('* The "docker" driver should not be used with root privileges.')]),s._v(":")]),s._v(" "),a("p",[s._v("解决方法：")]),s._v(" "),a("blockquote",[a("h3",{attrs:{id:"add-new-user"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#add-new-user"}},[s._v("#")]),s._v(" Add new User")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("adduser developer\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# password@7")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" -aG "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" developer\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" - developer\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"login-to-the-newly-created-user"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#login-to-the-newly-created-user"}},[s._v("#")]),s._v(" Login to the newly created User")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" - developer\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# password@7")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"add-user-to-the-docker-group"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#add-user-to-the-docker-group"}},[s._v("#")]),s._v(" Add User to the Docker Group")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("groupadd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" -aG "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$USER")]),s._v("\n- Re-Login or Restart the Server\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"install-minicube"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#install-minicube"}},[s._v("#")]),s._v(" Install Minicube")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -Lo minikube https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x minikube\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" ./minikube /usr/local/bin/minikube\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"start-minikube-with-docker-driver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#start-minikube-with-docker-driver"}},[s._v("#")]),s._v(" Start minikube with Docker Driver")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("minikube start --driver"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("docker\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"verify-minikube-installation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#verify-minikube-installation"}},[s._v("#")]),s._v(" Verify minikube Installation")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("p",[s._v("参考来源：https://github.com/kubernetes/minikube/issues/7903#issuecomment-624074810")]),s._v(" "),a("h2",{attrs:{id:"参考链接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[s._v("#")]),s._v(" 参考链接")]),s._v(" "),a("ul",[a("li",[s._v("minikube installation: https://kubernetes.io/zh/docs/tasks/tools/install-minikube/#%E5%AE%89%E8%A3%85-minikube")]),s._v(" "),a("li",[s._v("https://kubernetes.io/docs/setup/learning-environment/minikube/")]),s._v(" "),a("li",[s._v("minikube 代理相关: https://minikube.sigs.k8s.io/docs/handbook/vpn_and_proxy/")])])])}),[],!1,null,null,null);e.default=n.exports}}]);